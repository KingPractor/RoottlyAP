{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{ChevronLeft,Send,Phone,Video,Paperclip,Smile,Camera,Image,Heart,ThumbsUp,Bluetooth,BluetoothConnected}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Messages=_ref=>{let{messages,messageInput,setMessageInput,setMessages,setCurrentView,userRole,grandparentName,grandparentDevice,userName,grandparentPhone,t,textSizeClasses,buttonSizeClasses,textSize,isConnected=false,sendBluetoothMessage=null}=_ref;const[showEmojis,setShowEmojis]=useState(false);const[showQuickReplies,setShowQuickReplies]=useState(false);const[isTyping,setIsTyping]=useState(false);const[isSending,setIsSending]=useState(false);const messagesEndRef=useRef(null);const emojis=['üòä','‚ù§Ô∏è','üëç','üéâ','üå∫','‚òï','üç∞','üåû','üåô','‚≠ê','ü§ó','üòò','üëã','üôè','üíï'];const quickReplies={el:[\"ŒöŒ±ŒªŒ∑ŒºŒ≠œÅŒ±! ‚òÄÔ∏è\",\"ŒöŒ±ŒªŒ∑ŒΩœçœáœÑŒ±! üåô\",\"Œ§Œπ Œ∫Œ¨ŒΩŒµŒπœÇ;\",\"Œ£Œµ Œ±Œ≥Œ±œÄœé! ‚ù§Ô∏è\",\"Œ†œéœÇ ŒµŒØœÉŒ±Œπ;\",\"Œ¶ŒπŒªŒπŒ¨! üòò\",\"ŒúœÄœÅŒ¨Œ≤Œø! üëè\",\"ŒïŒΩœÑŒ¨ŒæŒµŒπ! üëç\",\"ŒïœÖœáŒ±œÅŒπœÉœÑœé! üôè\",\"ŒùŒ± ŒµŒØœÉŒ±Œπ Œ∫Œ±ŒªŒ¨! üåü\"],en:[\"Good morning! ‚òÄÔ∏è\",\"Good night! üåô\",\"How are you?\",\"Love you! ‚ù§Ô∏è\",\"How are things?\",\"Kisses! üòò\",\"Well done! üëè\",\"Okay! üëç\",\"Thank you! üôè\",\"Take care! üåü\"]};const handleSendMessage=async function(){let text=arguments.length>0&&arguments[0]!==undefined?arguments[0]:messageInput;if(!text.trim()||isSending)return;setIsSending(true);const messageText=text.trim();try{if(isConnected&&sendBluetoothMessage){// Send via real Bluetooth\nconst success=await sendBluetoothMessage(messageText);if(success){setMessageInput('');setShowQuickReplies(false);showDeliveryNotification('Œ£œÑŒ¨ŒªŒ∏Œ∑Œ∫Œµ ŒºŒ≠œÉœâ Bluetooth! üì°');}else{showDeliveryNotification('ŒëœÄŒøœÑœÖœáŒØŒ± Œ±œÄŒøœÉœÑŒøŒªŒÆœÇ ŒºŒ≠œÉœâ Bluetooth! ‚ùå');}}else{// Demo mode - show that real connection is needed\nconst newMessage={id:Date.now(),text:messageText,type:'sent',timestamp:new Date().toLocaleTimeString('el-GR',{hour:'2-digit',minute:'2-digit'}),status:'demo',sender:userName||(userRole==='grandparent'?'Œ†Œ±œÄœÄŒøœçœÇ/ŒìŒπŒ±Œ≥ŒπŒ¨':'Œ†Œ±ŒπŒ¥ŒØ')};setMessages(prev=>[...prev,newMessage]);setMessageInput('');setShowQuickReplies(false);showDeliveryNotification('Demo ŒºŒÆŒΩœÖŒºŒ± - Œ£œÖŒΩŒ¥ŒµŒ∏ŒµŒØœÑŒµ Œ≥ŒπŒ± œÄœÅŒ±Œ≥ŒºŒ±œÑŒπŒ∫Œ¨ ŒºŒ∑ŒΩœçŒºŒ±œÑŒ±! üì±');}}catch(error){console.error('Error sending message:',error);showDeliveryNotification('Œ£œÜŒ¨ŒªŒºŒ± Œ±œÄŒøœÉœÑŒøŒªŒÆœÇ ŒºŒ∑ŒΩœçŒºŒ±œÑŒøœÇ! ‚ùå');}finally{setIsSending(false);}};const showDeliveryNotification=message=>{const notification=document.createElement('div');notification.className='fixed top-20 left-1/2 transform -translate-x-1/2 bg-blue-600 text-white px-6 py-3 rounded-lg shadow-lg z-50 font-semibold';notification.textContent=message;document.body.appendChild(notification);setTimeout(()=>{notification.remove();},3000);};const addEmoji=emoji=>{setMessageInput(prev=>prev+emoji);setShowEmojis(false);};const sendQuickReply=reply=>{handleSendMessage(reply);};const isGrandparentView=userRole==='grandparent';const contactName=isGrandparentView?userName:grandparentName;// Auto-scroll to bottom\nuseEffect(()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});},[messages,isTyping]);// Initial welcome messages\nuseEffect(()=>{if(messages.length===0){const welcomeMessages=[{id:1,text:'ŒöŒ±ŒªœéœÇ ŒÆœÅŒ∏Œ±œÑŒµ œÉœÑŒø Roottly! üëã',type:'received',timestamp:'09:00',status:'received',sender:'Œ£œçœÉœÑŒ∑ŒºŒ±'}];if(!isConnected){welcomeMessages.push({id:2,text:'Œ£œÖŒΩŒ¥ŒµŒ∏ŒµŒØœÑŒµ ŒºŒ≠œÉœâ Bluetooth Œ≥ŒπŒ± œÄœÅŒ±Œ≥ŒºŒ±œÑŒπŒ∫Œ¨ ŒºŒ∑ŒΩœçŒºŒ±œÑŒ±! üì±',type:'received',timestamp:'09:01',status:'received',sender:'Œ£œçœÉœÑŒ∑ŒºŒ±'});}else{welcomeMessages.push({id:2,text:`Œ£œÖŒΩŒ¥ŒµŒ¥ŒµŒºŒ≠ŒΩŒøŒπ ŒµœÄŒπœÑœÖœáœéœÇ! ŒúœÄŒøœÅŒµŒØœÑŒµ œÑœéœÅŒ± ŒΩŒ± œÉœÑŒ≠ŒªŒΩŒµœÑŒµ œÄœÅŒ±Œ≥ŒºŒ±œÑŒπŒ∫Œ¨ ŒºŒ∑ŒΩœçŒºŒ±œÑŒ±! üéâ`,type:'received',timestamp:'09:01',status:'received',sender:'Œ£œçœÉœÑŒ∑ŒºŒ±'});}setMessages(welcomeMessages);}},[messages.length,setMessages,isConnected]);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex flex-col\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView(userRole==='grandparent'?'grandparentHome':'childHome'),className:\"text-white hover:bg-white/20 rounded-lg p-2 transition-colors\",children:/*#__PURE__*/_jsx(ChevronLeft,{className:\"w-6 h-6\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center text-2xl\",children:isGrandparentView?'üë∂':'üë®‚Äçü¶≥'}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:`${textSizeClasses[textSize]} font-bold`,children:[\"\\uD83D\\uDCAC \\u039C\\u03B7\\u03BD\\u03CD\\u03BC\\u03B1\\u03C4\\u03B1 \",contactName?`- ${contactName}`:'']}),grandparentDevice==='basic'&&userRole==='child'&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm opacity-80\",children:[\"\\uD83D\\uDCF1 SMS - \",grandparentPhone]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[isConnected?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(BluetoothConnected,{className:\"w-4 h-4 text-green-300\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-green-300\",children:\"Bluetooth \\u03C3\\u03C5\\u03BD\\u03B4\\u03B5\\u03B4\\u03B5\\u03BC\\u03AD\\u03BD\\u03BF\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(Bluetooth,{className:\"w-4 h-4 text-gray-300\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-300\",children:\"\\u03A7\\u03C9\\u03C1\\u03AF\\u03C2 \\u03C3\\u03CD\\u03BD\\u03B4\\u03B5\\u03C3\\u03B7\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs opacity-70 ml-2\",children:isTyping?/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-1 h-1 bg-white rounded-full animate-bounce\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-1 h-1 bg-white rounded-full animate-bounce\",style:{animationDelay:'0.1s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"w-1 h-1 bg-white rounded-full animate-bounce\",style:{animationDelay:'0.2s'}})]}),\"\\u03B3\\u03C1\\u03AC\\u03C6\\u03B5\\u03B9...\"]}):isConnected?'œÉœÖŒΩŒ¥ŒµŒ¥ŒµŒºŒ≠ŒΩŒøœÇ':'demo ŒªŒµŒπœÑŒøœÖœÅŒ≥ŒØŒ±'})]})]}),grandparentDevice!=='basic'&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"p-2 hover:bg-white/20 rounded-lg transition-colors\",children:/*#__PURE__*/_jsx(Phone,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"p-2 hover:bg-white/20 rounded-lg transition-colors\",children:/*#__PURE__*/_jsx(Video,{className:\"w-5 h-5\"})})]})]})})}),!isConnected&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-100 border-b-2 border-yellow-300 p-3 text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center gap-2\",children:[/*#__PURE__*/_jsx(Bluetooth,{className:\"w-5 h-5 text-yellow-700\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-yellow-800 font-semibold\",children:\"\\u039C\\u03B7\\u03BD\\u03CD\\u03BC\\u03B1\\u03C4\\u03B1 \\u03C3\\u03B5 \\u03BB\\u03B5\\u03B9\\u03C4\\u03BF\\u03C5\\u03C1\\u03B3\\u03AF\\u03B1 demo - \\u03A3\\u03C5\\u03BD\\u03B4\\u03B5\\u03B8\\u03B5\\u03AF\\u03C4\\u03B5 \\u03BC\\u03AD\\u03C3\\u03C9 Bluetooth \\u03B3\\u03B9\\u03B1 \\u03C0\\u03C1\\u03B1\\u03B3\\u03BC\\u03B1\\u03C4\\u03B9\\u03BA\\u03AC \\u03BC\\u03B7\\u03BD\\u03CD\\u03BC\\u03B1\\u03C4\\u03B1\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 p-4 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 max-w-2xl mx-auto\",children:[grandparentDevice==='basic'&&userRole==='child'&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-yellow-100 to-orange-100 border-2 border-yellow-300 rounded-lg p-3 mb-4 text-center\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-yellow-800 font-semibold\",children:[\"\\uD83D\\uDCF1 SMS \\u03B8\\u03B1 \\u03C3\\u03C4\\u03B1\\u03BB\\u03B5\\u03AF \\u03C3\\u03C4\\u03BF \",grandparentPhone]})}),messages.map(msg=>/*#__PURE__*/_jsx(\"div\",{className:`flex ${msg.type==='sent'||msg.type==='sms'?'justify-end':'justify-start'}`,children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-xs sm:max-w-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:`${buttonSizeClasses[textSize]} rounded-2xl shadow-md ${msg.type==='sent'||msg.type==='sms'?'bg-gradient-to-r from-blue-500 to-purple-500 text-white':'bg-white'}`,children:[msg.image&&/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl mb-2\",children:msg.image}),/*#__PURE__*/_jsx(\"p\",{className:\"break-words\",children:msg.text}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mt-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:`text-xs ${msg.type==='sent'||msg.type==='sms'?'text-blue-100':'text-gray-500'}`,children:msg.timestamp}),msg.type==='sent'&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs flex items-center gap-1\",children:[msg.status==='sending'&&'‚è≥',msg.status==='sent'&&'‚úì',msg.status==='delivered'&&'‚úì‚úì',msg.status==='demo'&&'üîí',isConnected&&/*#__PURE__*/_jsx(Bluetooth,{className:\"w-3 h-3\"})]})]})]})})},msg.id)),isTyping&&/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-start\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-2xl p-4 shadow-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\",style:{animationDelay:'0.1s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\",style:{animationDelay:'0.2s'}})]})})}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]})}),showQuickReplies&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-100 border-t p-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2 max-w-2xl mx-auto\",children:quickReplies[t.language||'el'].map((reply,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>sendQuickReply(reply),className:\"bg-blue-500 text-white px-3 py-1 rounded-full text-sm hover:bg-blue-600 transition-colors\",disabled:isSending,children:reply},index))})}),showEmojis&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-t p-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2 max-w-2xl mx-auto\",children:emojis.map(emoji=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>addEmoji(emoji),className:\"text-2xl p-2 hover:bg-gray-100 rounded-lg transition-colors\",children:emoji},emoji))})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-t-2 border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 max-w-2xl mx-auto\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowQuickReplies(!showQuickReplies);setShowEmojis(false);},className:`${buttonSizeClasses[textSize]} text-purple-600 hover:text-purple-800 transition-colors`,disabled:isSending,children:/*#__PURE__*/_jsx(Heart,{className:\"w-6 h-6\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowEmojis(!showEmojis);setShowQuickReplies(false);},className:`${buttonSizeClasses[textSize]} text-gray-600 hover:text-gray-800 transition-colors`,disabled:isSending,children:/*#__PURE__*/_jsx(Smile,{className:\"w-6 h-6\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:messageInput,onChange:e=>setMessageInput(e.target.value),onKeyPress:e=>e.key==='Enter'&&!isSending&&handleSendMessage(),placeholder:isConnected?\"Œ†ŒªŒ∑Œ∫œÑœÅŒøŒªŒøŒ≥ŒÆœÉœÑŒµ ŒºŒÆŒΩœÖŒºŒ±...\":\"Œ£œÖŒΩŒ¥ŒµŒ∏ŒµŒØœÑŒµ Œ≥ŒπŒ± œÄœÅŒ±Œ≥ŒºŒ±œÑŒπŒ∫Œ¨ ŒºŒ∑ŒΩœçŒºŒ±œÑŒ±...\",disabled:isSending,className:`flex-1 ${buttonSizeClasses[textSize]} border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none disabled:opacity-50`}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSendMessage(),disabled:!messageInput.trim()||isSending,className:`${buttonSizeClasses[textSize]} bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:from-blue-600 hover:to-purple-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all px-6 flex items-center gap-2`,children:isSending?/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-5 w-5 border-b-2 border-white\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Send,{className:\"w-5 h-5\"}),isConnected&&/*#__PURE__*/_jsx(Bluetooth,{className:\"w-4 h-4\"})]})})]}),!isConnected&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"\\uD83D\\uDCA1 \\u03A0\\u03B7\\u03B3\\u03B1\\u03AF\\u03BD\\u03B5\\u03C4\\u03B5 \\u03C3\\u03C4\\u03B7\\u03BD \\u03B1\\u03C1\\u03C7\\u03B9\\u03BA\\u03AE \\u03C3\\u03B5\\u03BB\\u03AF\\u03B4\\u03B1 \\u03B3\\u03B9\\u03B1 \\u03BD\\u03B1 \\u03C3\\u03C5\\u03BD\\u03B4\\u03B5\\u03B8\\u03B5\\u03AF\\u03C4\\u03B5 \\u03BC\\u03AD\\u03C3\\u03C9 Bluetooth\"})})]})})]});};export default Messages;","map":{"version":3,"names":["React","useState","useEffect","useRef","ChevronLeft","Send","Phone","Video","Paperclip","Smile","Camera","Image","Heart","ThumbsUp","Bluetooth","BluetoothConnected","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Messages","_ref","messages","messageInput","setMessageInput","setMessages","setCurrentView","userRole","grandparentName","grandparentDevice","userName","grandparentPhone","t","textSizeClasses","buttonSizeClasses","textSize","isConnected","sendBluetoothMessage","showEmojis","setShowEmojis","showQuickReplies","setShowQuickReplies","isTyping","setIsTyping","isSending","setIsSending","messagesEndRef","emojis","quickReplies","el","en","handleSendMessage","text","arguments","length","undefined","trim","messageText","success","showDeliveryNotification","newMessage","id","Date","now","type","timestamp","toLocaleTimeString","hour","minute","status","sender","prev","error","console","message","notification","document","createElement","className","textContent","body","appendChild","setTimeout","remove","addEmoji","emoji","sendQuickReply","reply","isGrandparentView","contactName","_messagesEndRef$curre","current","scrollIntoView","behavior","welcomeMessages","push","children","onClick","style","animationDelay","map","msg","image","ref","language","index","disabled","value","onChange","e","target","onKeyPress","key","placeholder"],"sources":["C:/Users/thodo/OneDrive/Documents/GitHub/Roottly_Applc/src/components/Messages.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { ChevronLeft, Send, Phone, Video, Paperclip, Smile, Camera, Image, Heart, ThumbsUp, Bluetooth, BluetoothConnected } from 'lucide-react';\r\n\r\nconst Messages = ({ \r\n  messages, \r\n  messageInput, \r\n  setMessageInput, \r\n  setMessages,\r\n  setCurrentView, \r\n  userRole, \r\n  grandparentName,\r\n  grandparentDevice,\r\n  userName,\r\n  grandparentPhone,\r\n  t, \r\n  textSizeClasses, \r\n  buttonSizeClasses,\r\n  textSize,\r\n  isConnected = false,\r\n  sendBluetoothMessage = null\r\n}) => {\r\n  \r\n  const [showEmojis, setShowEmojis] = useState(false);\r\n  const [showQuickReplies, setShowQuickReplies] = useState(false);\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const [isSending, setIsSending] = useState(false);\r\n  const messagesEndRef = useRef(null);\r\n  \r\n  const emojis = ['üòä', '‚ù§Ô∏è', 'üëç', 'üéâ', 'üå∫', '‚òï', 'üç∞', 'üåû', 'üåô', '‚≠ê', 'ü§ó', 'üòò', 'üëã', 'üôè', 'üíï'];\r\n  \r\n  const quickReplies = {\r\n    el: [\r\n      \"ŒöŒ±ŒªŒ∑ŒºŒ≠œÅŒ±! ‚òÄÔ∏è\",\r\n      \"ŒöŒ±ŒªŒ∑ŒΩœçœáœÑŒ±! üåô\", \r\n      \"Œ§Œπ Œ∫Œ¨ŒΩŒµŒπœÇ;\",\r\n      \"Œ£Œµ Œ±Œ≥Œ±œÄœé! ‚ù§Ô∏è\",\r\n      \"Œ†œéœÇ ŒµŒØœÉŒ±Œπ;\",\r\n      \"Œ¶ŒπŒªŒπŒ¨! üòò\",\r\n      \"ŒúœÄœÅŒ¨Œ≤Œø! üëè\",\r\n      \"ŒïŒΩœÑŒ¨ŒæŒµŒπ! üëç\",\r\n      \"ŒïœÖœáŒ±œÅŒπœÉœÑœé! üôè\",\r\n      \"ŒùŒ± ŒµŒØœÉŒ±Œπ Œ∫Œ±ŒªŒ¨! üåü\"\r\n    ],\r\n    en: [\r\n      \"Good morning! ‚òÄÔ∏è\",\r\n      \"Good night! üåô\",\r\n      \"How are you?\",\r\n      \"Love you! ‚ù§Ô∏è\",\r\n      \"How are things?\",\r\n      \"Kisses! üòò\",\r\n      \"Well done! üëè\",\r\n      \"Okay! üëç\",\r\n      \"Thank you! üôè\",\r\n      \"Take care! üåü\"\r\n    ]\r\n  };\r\n  \r\n  const handleSendMessage = async (text = messageInput) => {\r\n    if (!text.trim() || isSending) return;\r\n    \r\n    setIsSending(true);\r\n    const messageText = text.trim();\r\n    \r\n    try {\r\n      if (isConnected && sendBluetoothMessage) {\r\n        // Send via real Bluetooth\r\n        const success = await sendBluetoothMessage(messageText);\r\n        if (success) {\r\n          setMessageInput('');\r\n          setShowQuickReplies(false);\r\n          showDeliveryNotification('Œ£œÑŒ¨ŒªŒ∏Œ∑Œ∫Œµ ŒºŒ≠œÉœâ Bluetooth! üì°');\r\n        } else {\r\n          showDeliveryNotification('ŒëœÄŒøœÑœÖœáŒØŒ± Œ±œÄŒøœÉœÑŒøŒªŒÆœÇ ŒºŒ≠œÉœâ Bluetooth! ‚ùå');\r\n        }\r\n      } else {\r\n        // Demo mode - show that real connection is needed\r\n        const newMessage = {\r\n          id: Date.now(),\r\n          text: messageText,\r\n          type: 'sent',\r\n          timestamp: new Date().toLocaleTimeString('el-GR', { hour: '2-digit', minute: '2-digit' }),\r\n          status: 'demo',\r\n          sender: userName || (userRole === 'grandparent' ? 'Œ†Œ±œÄœÄŒøœçœÇ/ŒìŒπŒ±Œ≥ŒπŒ¨' : 'Œ†Œ±ŒπŒ¥ŒØ')\r\n        };\r\n        \r\n        setMessages(prev => [...prev, newMessage]);\r\n        setMessageInput('');\r\n        setShowQuickReplies(false);\r\n        showDeliveryNotification('Demo ŒºŒÆŒΩœÖŒºŒ± - Œ£œÖŒΩŒ¥ŒµŒ∏ŒµŒØœÑŒµ Œ≥ŒπŒ± œÄœÅŒ±Œ≥ŒºŒ±œÑŒπŒ∫Œ¨ ŒºŒ∑ŒΩœçŒºŒ±œÑŒ±! üì±');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error sending message:', error);\r\n      showDeliveryNotification('Œ£œÜŒ¨ŒªŒºŒ± Œ±œÄŒøœÉœÑŒøŒªŒÆœÇ ŒºŒ∑ŒΩœçŒºŒ±œÑŒøœÇ! ‚ùå');\r\n    } finally {\r\n      setIsSending(false);\r\n    }\r\n  };\r\n  \r\n  const showDeliveryNotification = (message) => {\r\n    const notification = document.createElement('div');\r\n    notification.className = 'fixed top-20 left-1/2 transform -translate-x-1/2 bg-blue-600 text-white px-6 py-3 rounded-lg shadow-lg z-50 font-semibold';\r\n    notification.textContent = message;\r\n    document.body.appendChild(notification);\r\n    \r\n    setTimeout(() => {\r\n      notification.remove();\r\n    }, 3000);\r\n  };\r\n  \r\n  const addEmoji = (emoji) => {\r\n    setMessageInput(prev => prev + emoji);\r\n    setShowEmojis(false);\r\n  };\r\n\r\n  const sendQuickReply = (reply) => {\r\n    handleSendMessage(reply);\r\n  };\r\n  \r\n  const isGrandparentView = userRole === 'grandparent';\r\n  const contactName = isGrandparentView ? userName : grandparentName;\r\n  \r\n  // Auto-scroll to bottom\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages, isTyping]);\r\n  \r\n  // Initial welcome messages\r\n  useEffect(() => {\r\n    if (messages.length === 0) {\r\n      const welcomeMessages = [\r\n        { \r\n          id: 1, \r\n          text: 'ŒöŒ±ŒªœéœÇ ŒÆœÅŒ∏Œ±œÑŒµ œÉœÑŒø Roottly! üëã', \r\n          type: 'received', \r\n          timestamp: '09:00', \r\n          status: 'received', \r\n          sender: 'Œ£œçœÉœÑŒ∑ŒºŒ±' \r\n        }\r\n      ];\r\n      \r\n      if (!isConnected) {\r\n        welcomeMessages.push({\r\n          id: 2, \r\n          text: 'Œ£œÖŒΩŒ¥ŒµŒ∏ŒµŒØœÑŒµ ŒºŒ≠œÉœâ Bluetooth Œ≥ŒπŒ± œÄœÅŒ±Œ≥ŒºŒ±œÑŒπŒ∫Œ¨ ŒºŒ∑ŒΩœçŒºŒ±œÑŒ±! üì±', \r\n          type: 'received', \r\n          timestamp: '09:01', \r\n          status: 'received', \r\n          sender: 'Œ£œçœÉœÑŒ∑ŒºŒ±'\r\n        });\r\n      } else {\r\n        welcomeMessages.push({\r\n          id: 2, \r\n          text: `Œ£œÖŒΩŒ¥ŒµŒ¥ŒµŒºŒ≠ŒΩŒøŒπ ŒµœÄŒπœÑœÖœáœéœÇ! ŒúœÄŒøœÅŒµŒØœÑŒµ œÑœéœÅŒ± ŒΩŒ± œÉœÑŒ≠ŒªŒΩŒµœÑŒµ œÄœÅŒ±Œ≥ŒºŒ±œÑŒπŒ∫Œ¨ ŒºŒ∑ŒΩœçŒºŒ±œÑŒ±! üéâ`, \r\n          type: 'received', \r\n          timestamp: '09:01', \r\n          status: 'received', \r\n          sender: 'Œ£œçœÉœÑŒ∑ŒºŒ±'\r\n        });\r\n      }\r\n      \r\n      setMessages(welcomeMessages);\r\n    }\r\n  }, [messages.length, setMessages, isConnected]);\r\n  \r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex flex-col\">\r\n      {/* Header */}\r\n      <header className=\"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg\">\r\n        <div className=\"p-4\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <button\r\n              onClick={() => setCurrentView(userRole === 'grandparent' ? 'grandparentHome' : 'childHome')}\r\n              className=\"text-white hover:bg-white/20 rounded-lg p-2 transition-colors\"\r\n            >\r\n              <ChevronLeft className=\"w-6 h-6\" />\r\n            </button>\r\n            \r\n            <div className=\"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center text-2xl\">\r\n              {isGrandparentView ? 'üë∂' : 'üë®‚Äçü¶≥'}\r\n            </div>\r\n            \r\n            <div className=\"flex-1\">\r\n              <h1 className={`${textSizeClasses[textSize]} font-bold`}>\r\n                üí¨ ŒúŒ∑ŒΩœçŒºŒ±œÑŒ± {contactName ? `- ${contactName}` : ''}\r\n              </h1>\r\n              {grandparentDevice === 'basic' && userRole === 'child' && (\r\n                <p className=\"text-sm opacity-80\">üì± SMS - {grandparentPhone}</p>\r\n              )}\r\n              <div className=\"flex items-center gap-2\">\r\n                {isConnected ? (\r\n                  <div className=\"flex items-center gap-1\">\r\n                    <BluetoothConnected className=\"w-4 h-4 text-green-300\" />\r\n                    <span className=\"text-xs text-green-300\">Bluetooth œÉœÖŒΩŒ¥ŒµŒ¥ŒµŒºŒ≠ŒΩŒø</span>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"flex items-center gap-1\">\r\n                    <Bluetooth className=\"w-4 h-4 text-gray-300\" />\r\n                    <span className=\"text-xs text-gray-300\">ŒßœâœÅŒØœÇ œÉœçŒΩŒ¥ŒµœÉŒ∑</span>\r\n                  </div>\r\n                )}\r\n                <p className=\"text-xs opacity-70 ml-2\">\r\n                  {isTyping ? (\r\n                    <span className=\"flex items-center gap-1\">\r\n                      <div className=\"flex gap-1\">\r\n                        <div className=\"w-1 h-1 bg-white rounded-full animate-bounce\"></div>\r\n                        <div className=\"w-1 h-1 bg-white rounded-full animate-bounce\" style={{animationDelay: '0.1s'}}></div>\r\n                        <div className=\"w-1 h-1 bg-white rounded-full animate-bounce\" style={{animationDelay: '0.2s'}}></div>\r\n                      </div>\r\n                      Œ≥œÅŒ¨œÜŒµŒπ...\r\n                    </span>\r\n                  ) : (\r\n                    isConnected ? 'œÉœÖŒΩŒ¥ŒµŒ¥ŒµŒºŒ≠ŒΩŒøœÇ' : 'demo ŒªŒµŒπœÑŒøœÖœÅŒ≥ŒØŒ±'\r\n                  )}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            \r\n            {grandparentDevice !== 'basic' && (\r\n              <div className=\"flex gap-2\">\r\n                <button className=\"p-2 hover:bg-white/20 rounded-lg transition-colors\">\r\n                  <Phone className=\"w-5 h-5\" />\r\n                </button>\r\n                <button className=\"p-2 hover:bg-white/20 rounded-lg transition-colors\">\r\n                  <Video className=\"w-5 h-5\" />\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </header>\r\n      \r\n      {/* Connection Status Banner */}\r\n      {!isConnected && (\r\n        <div className=\"bg-yellow-100 border-b-2 border-yellow-300 p-3 text-center\">\r\n          <div className=\"flex items-center justify-center gap-2\">\r\n            <Bluetooth className=\"w-5 h-5 text-yellow-700\" />\r\n            <span className=\"text-yellow-800 font-semibold\">\r\n              ŒúŒ∑ŒΩœçŒºŒ±œÑŒ± œÉŒµ ŒªŒµŒπœÑŒøœÖœÅŒ≥ŒØŒ± demo - Œ£œÖŒΩŒ¥ŒµŒ∏ŒµŒØœÑŒµ ŒºŒ≠œÉœâ Bluetooth Œ≥ŒπŒ± œÄœÅŒ±Œ≥ŒºŒ±œÑŒπŒ∫Œ¨ ŒºŒ∑ŒΩœçŒºŒ±œÑŒ±\r\n            </span>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Messages Area */}\r\n      <div className=\"flex-1 p-4 overflow-y-auto\">\r\n        <div className=\"space-y-4 max-w-2xl mx-auto\">\r\n          {grandparentDevice === 'basic' && userRole === 'child' && (\r\n            <div className=\"bg-gradient-to-r from-yellow-100 to-orange-100 border-2 border-yellow-300 rounded-lg p-3 mb-4 text-center\">\r\n              <p className=\"text-yellow-800 font-semibold\">\r\n                üì± SMS Œ∏Œ± œÉœÑŒ±ŒªŒµŒØ œÉœÑŒø {grandparentPhone}\r\n              </p>\r\n            </div>\r\n          )}\r\n          \r\n          {messages.map(msg => (\r\n            <div\r\n              key={msg.id}\r\n              className={`flex ${msg.type === 'sent' || msg.type === 'sms' ? 'justify-end' : 'justify-start'}`}\r\n            >\r\n              <div className=\"max-w-xs sm:max-w-sm\">\r\n                <div\r\n                  className={`${buttonSizeClasses[textSize]} rounded-2xl shadow-md ${\r\n                    msg.type === 'sent' || msg.type === 'sms'\r\n                      ? 'bg-gradient-to-r from-blue-500 to-purple-500 text-white'\r\n                      : 'bg-white'\r\n                  }`}\r\n                >\r\n                  {msg.image && <div className=\"text-4xl mb-2\">{msg.image}</div>}\r\n                  <p className=\"break-words\">{msg.text}</p>\r\n                  <div className=\"flex items-center justify-between mt-2\">\r\n                    <p className={`text-xs ${\r\n                      msg.type === 'sent' || msg.type === 'sms' ? 'text-blue-100' : 'text-gray-500'\r\n                    }`}>\r\n                      {msg.timestamp}\r\n                    </p>\r\n                    {msg.type === 'sent' && (\r\n                      <div className=\"text-xs flex items-center gap-1\">\r\n                        {msg.status === 'sending' && '‚è≥'}\r\n                        {msg.status === 'sent' && '‚úì'}\r\n                        {msg.status === 'delivered' && '‚úì‚úì'}\r\n                        {msg.status === 'demo' && 'üîí'}\r\n                        {isConnected && <Bluetooth className=\"w-3 h-3\" />}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n          \r\n          {/* Typing indicator */}\r\n          {isTyping && (\r\n            <div className=\"flex justify-start\">\r\n              <div className=\"bg-white rounded-2xl p-4 shadow-md\">\r\n                <div className=\"flex gap-1\">\r\n                  <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"></div>\r\n                  <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{animationDelay: '0.1s'}}></div>\r\n                  <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{animationDelay: '0.2s'}}></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          <div ref={messagesEndRef} />\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Quick Replies */}\r\n      {showQuickReplies && (\r\n        <div className=\"bg-gray-100 border-t p-3\">\r\n          <div className=\"flex flex-wrap gap-2 max-w-2xl mx-auto\">\r\n            {quickReplies[t.language || 'el'].map((reply, index) => (\r\n              <button\r\n                key={index}\r\n                onClick={() => sendQuickReply(reply)}\r\n                className=\"bg-blue-500 text-white px-3 py-1 rounded-full text-sm hover:bg-blue-600 transition-colors\"\r\n                disabled={isSending}\r\n              >\r\n                {reply}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Emoji Picker */}\r\n      {showEmojis && (\r\n        <div className=\"bg-white border-t p-3\">\r\n          <div className=\"flex flex-wrap gap-2 max-w-2xl mx-auto\">\r\n            {emojis.map(emoji => (\r\n              <button\r\n                key={emoji}\r\n                onClick={() => addEmoji(emoji)}\r\n                className=\"text-2xl p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n              >\r\n                {emoji}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Input Area */}\r\n      <div className=\"bg-white border-t-2 border-gray-200\">\r\n        <div className=\"p-4\">\r\n          <div className=\"flex gap-2 max-w-2xl mx-auto\">\r\n            {/* Quick replies button */}\r\n            <button\r\n              onClick={() => {\r\n                setShowQuickReplies(!showQuickReplies);\r\n                setShowEmojis(false);\r\n              }}\r\n              className={`${buttonSizeClasses[textSize]} text-purple-600 hover:text-purple-800 transition-colors`}\r\n              disabled={isSending}\r\n            >\r\n              <Heart className=\"w-6 h-6\" />\r\n            </button>\r\n            \r\n            {/* Emoji button */}\r\n            <button\r\n              onClick={() => {\r\n                setShowEmojis(!showEmojis);\r\n                setShowQuickReplies(false);\r\n              }}\r\n              className={`${buttonSizeClasses[textSize]} text-gray-600 hover:text-gray-800 transition-colors`}\r\n              disabled={isSending}\r\n            >\r\n              <Smile className=\"w-6 h-6\" />\r\n            </button>\r\n            \r\n            {/* Message input */}\r\n            <input\r\n              type=\"text\"\r\n              value={messageInput}\r\n              onChange={(e) => setMessageInput(e.target.value)}\r\n              onKeyPress={(e) => e.key === 'Enter' && !isSending && handleSendMessage()}\r\n              placeholder={isConnected ? \"Œ†ŒªŒ∑Œ∫œÑœÅŒøŒªŒøŒ≥ŒÆœÉœÑŒµ ŒºŒÆŒΩœÖŒºŒ±...\" : \"Œ£œÖŒΩŒ¥ŒµŒ∏ŒµŒØœÑŒµ Œ≥ŒπŒ± œÄœÅŒ±Œ≥ŒºŒ±œÑŒπŒ∫Œ¨ ŒºŒ∑ŒΩœçŒºŒ±œÑŒ±...\"}\r\n              disabled={isSending}\r\n              className={`flex-1 ${buttonSizeClasses[textSize]} border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none disabled:opacity-50`}\r\n            />\r\n            \r\n            {/* Send button */}\r\n            <button\r\n              onClick={() => handleSendMessage()}\r\n              disabled={!messageInput.trim() || isSending}\r\n              className={`${buttonSizeClasses[textSize]} bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:from-blue-600 hover:to-purple-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all px-6 flex items-center gap-2`}\r\n            >\r\n              {isSending ? (\r\n                <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white\"></div>\r\n              ) : (\r\n                <>\r\n                  <Send className=\"w-5 h-5\" />\r\n                  {isConnected && <Bluetooth className=\"w-4 h-4\" />}\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n          \r\n          {/* Bluetooth instruction */}\r\n          {!isConnected && (\r\n            <div className=\"text-center mt-3\">\r\n              <p className=\"text-sm text-gray-600\">\r\n                üí° Œ†Œ∑Œ≥Œ±ŒØŒΩŒµœÑŒµ œÉœÑŒ∑ŒΩ Œ±œÅœáŒπŒ∫ŒÆ œÉŒµŒªŒØŒ¥Œ± Œ≥ŒπŒ± ŒΩŒ± œÉœÖŒΩŒ¥ŒµŒ∏ŒµŒØœÑŒµ ŒºŒ≠œÉœâ Bluetooth\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Messages;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}