{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{Phone,MessageSquare,Video,Settings as SettingsIcon,Home,Users,Sparkles,Mail,Share2,Book,Trophy,Gift,Globe,Type,Volume2,Bell,Shield,Wifi,ChevronLeft,Heart,Send,Play,RotateCcw,Star,Crown,Check,ShoppingBag,Lock,Camera,Image,Smile,Award,HelpCircle,MessageCircle,Bluetooth,QrCode,UserPlus}from'lucide-react';// Import components\nimport Settings from'./components/Settings';import Messages from'./components/Messages';import VideoCall from'./components/VideoCall';import Lessons from'./components/Lessons';import SocialShare from'./components/SocialShare';import ActivityWheel from'./components/ActivityWheel';import AvatarSelection from'./components/AvatarSelection';import RewardsCenter from'./components/RewardsCenter';import SplashScreen from'./components/SplashScreen';import ConnectionScreen from'./components/ConnectionScreen';// Import CSS\nimport'./App.css';// Real Bluetooth Service - Enhanced for actual device communication\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";class BluetoothService{constructor(){this.device=null;this.server=null;this.service=null;this.characteristic=null;this.isConnected=false;this.onMessageReceived=null;this.onConnectionStatusChanged=null;// Use well-known services for better compatibility\nthis.SERVICE_UUID='0000180f-0000-1000-8000-00805f9b34fb';// Battery Service\nthis.CHARACTERISTIC_UUID='00002a19-0000-1000-8000-00805f9b34fb';// Battery Level\n// Custom service for messaging\nthis.ROOTTLY_SERVICE_UUID='12345678-1234-1234-1234-123456789abc';this.ROOTTLY_MESSAGE_UUID='87654321-4321-4321-4321-cba987654321';this.currentUser=null;this.messageCallback=null;}isBluetoothSupported(){return'bluetooth'in navigator&&navigator.bluetooth;}setCurrentUser(user){this.currentUser=user;}setMessageReceivedCallback(callback){this.messageCallback=callback;}setConnectionStatusCallback(callback){this.onConnectionStatusChanged=callback;}async requestAndConnect(){if(!this.isBluetoothSupported()){throw new Error('Web Bluetooth Œ¥ŒµŒΩ œÖœÄŒøœÉœÑŒ∑œÅŒØŒ∂ŒµœÑŒ±Œπ. ŒßœÅŒ∑œÉŒπŒºŒøœÄŒøŒπŒÆœÉœÑŒµ Chrome ŒÆ Edge.');}try{// Request any device for maximum compatibility\nthis.device=await navigator.bluetooth.requestDevice({acceptAllDevices:true,optionalServices:[this.SERVICE_UUID,this.ROOTTLY_SERVICE_UUID,'0000180a-0000-1000-8000-00805f9b34fb',// Device Information\n'00001800-0000-1000-8000-00805f9b34fb'// Generic Access\n]});console.log('Œ£œÖœÉŒ∫ŒµœÖŒÆ ŒµœÄŒπŒªŒ≠œáŒ∏Œ∑Œ∫Œµ:',this.device.name||'ŒÜŒ≥ŒΩœâœÉœÑŒ∑ Œ£œÖœÉŒ∫ŒµœÖŒÆ');this.device.addEventListener('gattserverdisconnected',this.onDisconnected.bind(this));return await this.connectToDevice();}catch(error){console.error('ŒëœÄŒøœÑœÖœáŒØŒ± ŒµœÄŒπŒªŒøŒ≥ŒÆœÇ œÉœÖœÉŒ∫ŒµœÖŒÆœÇ:',error);if(error.name==='NotFoundError'){throw new Error('ŒîŒµŒΩ ŒµœÄŒπŒªŒ≠œáŒ∏Œ∑Œ∫Œµ œÉœÖœÉŒ∫ŒµœÖŒÆ. Œ†Œ±œÅŒ±Œ∫Œ±Œªœé Œ¥ŒøŒ∫ŒπŒºŒ¨œÉœÑŒµ ŒæŒ±ŒΩŒ¨.');}else if(error.name==='SecurityError'){throw new Error('Œ†œÅœåŒ≤ŒªŒ∑ŒºŒ± Œ±œÉœÜŒ±ŒªŒµŒØŒ±œÇ. Œ†Œ±œÅŒ±Œ∫Œ±Œªœé ŒµœÄŒπœÑœÅŒ≠œàœÑŒµ œÑŒ∑ŒΩ œÄœÅœåœÉŒ≤Œ±œÉŒ∑ Bluetooth.');}throw new Error('ŒëœÄŒøœÑœÖœáŒØŒ± œÉœçŒΩŒ¥ŒµœÉŒ∑œÇ: '+error.message);}}async connectToDevice(){if(!this.device){throw new Error('ŒîŒµŒΩ Œ≠œáŒµŒπ ŒµœÄŒπŒªŒµŒ≥ŒµŒØ œÉœÖœÉŒ∫ŒµœÖŒÆ');}try{var _this$onConnectionSta;console.log('Œ£œçŒΩŒ¥ŒµœÉŒ∑ œÉœÑŒøŒΩ GATT server...');this.server=await this.device.gatt.connect();console.log('Œ£œÖŒΩŒ¥Œ≠Œ∏Œ∑Œ∫Œµ œÉœÑŒøŒΩ GATT server');await this.findWritableService();this.isConnected=true;(_this$onConnectionSta=this.onConnectionStatusChanged)===null||_this$onConnectionSta===void 0?void 0:_this$onConnectionSta.call(this,true);this.startMessageProcessing();console.log('Œó œÉœçŒΩŒ¥ŒµœÉŒ∑ Bluetooth ŒøŒªŒøŒ∫ŒªŒ∑œÅœéŒ∏Œ∑Œ∫Œµ ŒµœÄŒπœÑœÖœáœéœÇ');return true;}catch(error){var _this$onConnectionSta2;console.error('ŒëœÄŒøœÑœÖœáŒØŒ± œÉœçŒΩŒ¥ŒµœÉŒ∑œÇ:',error);this.isConnected=false;(_this$onConnectionSta2=this.onConnectionStatusChanged)===null||_this$onConnectionSta2===void 0?void 0:_this$onConnectionSta2.call(this,false);throw new Error('ŒëœÄŒøœÑœÖœáŒØŒ± œÉœçŒΩŒ¥ŒµœÉŒ∑œÇ ŒºŒµ œÑŒ∑ œÉœÖœÉŒ∫ŒµœÖŒÆ: '+error.message);}}async findWritableService(){try{const services=await this.server.getPrimaryServices();console.log(`ŒíœÅŒ≠Œ∏Œ∑Œ∫Œ±ŒΩ ${services.length} œÖœÄŒ∑œÅŒµœÉŒØŒµœÇ`);for(const service of services){try{const characteristics=await service.getCharacteristics();for(const characteristic of characteristics){if(characteristic.properties.write||characteristic.properties.writeWithoutResponse||characteristic.properties.notify){console.log('ŒíœÅŒ≠Œ∏Œ∑Œ∫Œµ ŒµŒ≥Œ≥œÅŒ¨œàŒπŒºŒ∑ œáŒ±œÅŒ±Œ∫œÑŒ∑œÅŒπœÉœÑŒπŒ∫ŒÆ:',characteristic.uuid);this.service=service;this.characteristic=characteristic;if(characteristic.properties.notify){try{await characteristic.startNotifications();characteristic.addEventListener('characteristicvaluechanged',this.handleNotification.bind(this));console.log('ŒüŒπ ŒµŒπŒ¥ŒøœÄŒøŒπŒÆœÉŒµŒπœÇ ŒæŒµŒ∫ŒØŒΩŒ∑œÉŒ±ŒΩ');}catch(notifyError){console.warn('ŒîŒµŒΩ ŒºœÄœåœÅŒµœÉŒ±ŒΩ ŒΩŒ± ŒæŒµŒ∫ŒπŒΩŒÆœÉŒøœÖŒΩ ŒøŒπ ŒµŒπŒ¥ŒøœÄŒøŒπŒÆœÉŒµŒπœÇ:',notifyError);}}return;}}}catch(charError){console.warn('ŒîŒµŒΩ ŒºœÄœåœÅŒµœÉŒ±ŒΩ ŒΩŒ± ŒªŒ∑œÜŒ∏ŒøœçŒΩ ŒøŒπ œáŒ±œÅŒ±Œ∫œÑŒ∑œÅŒπœÉœÑŒπŒ∫Œ≠œÇ:',charError);}}if(services.length>0){this.service=services[0];console.log('ŒßœÅŒÆœÉŒ∑ œÄœÅœéœÑŒ∑œÇ Œ¥ŒπŒ±Œ∏Œ≠œÉŒπŒºŒ∑œÇ œÖœÄŒ∑œÅŒµœÉŒØŒ±œÇ');}}catch(error){console.warn('ŒîŒµŒΩ Œ≤œÅŒ≠Œ∏Œ∑Œ∫Œµ Œ≤Œ≠ŒªœÑŒπœÉœÑŒ∑ œÖœÄŒ∑œÅŒµœÉŒØŒ±, œáœÅŒÆœÉŒ∑ ŒµŒΩŒ±ŒªŒªŒ±Œ∫œÑŒπŒ∫ŒÆœÇ ŒºŒµŒ∏œåŒ¥ŒøœÖ');}}async sendMessage(messageText){if(!this.isConnected){throw new Error('ŒîŒµŒΩ ŒµŒØœÉœÑŒµ œÉœÖŒΩŒ¥ŒµŒ¥ŒµŒºŒ≠ŒΩŒøŒπ œÉŒµ œÉœÖœÉŒ∫ŒµœÖŒÆ');}try{const messageData={type:'roottly_message',text:messageText,timestamp:new Date().toLocaleTimeString('el-GR',{hour:'2-digit',minute:'2-digit'}),sender:this.currentUser||'Unknown',id:Date.now()};// Œ†œÅŒøœÉœÄŒ¨Œ∏ŒµŒπŒ± ŒµŒ≥Œ≥œÅŒ±œÜŒÆœÇ ŒºŒ≠œÉœâ Bluetooth characteristic\nif(this.characteristic&&this.characteristic.properties.write){const encoder=new TextEncoder();const data=encoder.encode(JSON.stringify(messageData));// ŒîŒπŒ±ŒØœÅŒµœÉŒ∑ œÉŒµ Œ∫ŒøŒºŒºŒ¨œÑŒπŒ± Œ±ŒΩ ŒµŒØŒΩŒ±Œπ œÄŒøŒªœç ŒºŒµŒ≥Œ¨ŒªŒø (20 bytes ŒµŒØŒΩŒ±Œπ œÑŒø œÑœÖœÄŒπŒ∫œå œåœÅŒπŒø BLE)\nconst chunks=this.chunkArray(data,20);for(const chunk of chunks){await this.characteristic.writeValue(chunk);}console.log('ŒúŒÆŒΩœÖŒºŒ± œÉœÑŒ¨ŒªŒ∏Œ∑Œ∫Œµ ŒºŒ≠œÉœâ Bluetooth characteristic');}// ŒïŒΩŒ±ŒªŒªŒ±Œ∫œÑŒπŒ∫ŒÆ ŒºŒ≠Œ∏ŒøŒ¥ŒøœÇ Œ≥ŒπŒ± Œ¥ŒøŒ∫ŒπŒºŒÆ/ŒµœÄŒØŒ¥ŒµŒπŒæŒ∑\nthis.storeMessageLocally(messageData);return true;}catch(error){console.error('ŒëœÄŒøœÑœÖœáŒØŒ± Œ±œÄŒøœÉœÑŒøŒªŒÆœÇ Bluetooth ŒºŒ∑ŒΩœçŒºŒ±œÑŒøœÇ:',error);// ŒëœÄŒøŒ∏ŒÆŒ∫ŒµœÖœÉŒ∑ œÑŒøœÄŒπŒ∫Œ¨ œâœÇ ŒµŒΩŒ±ŒªŒªŒ±Œ∫œÑŒπŒ∫ŒÆ\nconst messageData={type:'roottly_message',text:messageText,timestamp:new Date().toLocaleTimeString('el-GR',{hour:'2-digit',minute:'2-digit'}),sender:this.currentUser||'Unknown',id:Date.now()};this.storeMessageLocally(messageData);console.log('ŒúŒÆŒΩœÖŒºŒ± Œ±œÄŒøŒ∏Œ∑Œ∫ŒµœçœÑŒ∑Œ∫Œµ œÑŒøœÄŒπŒ∫Œ¨ œâœÇ ŒµŒΩŒ±ŒªŒªŒ±Œ∫œÑŒπŒ∫ŒÆ');return true;}}storeMessageLocally(messageData){try{const sessionKey='roottly_session_'+this.currentUser;const messages=JSON.parse(localStorage.getItem(sessionKey)||'[]');messages.push(messageData);if(messages.length>50){messages.splice(0,messages.length-50);}localStorage.setItem(sessionKey,JSON.stringify(messages));window.dispatchEvent(new StorageEvent('storage',{key:sessionKey,newValue:JSON.stringify(messages)}));}catch(error){console.error('ŒëœÄŒøœÑœÖœáŒØŒ± œÑŒøœÄŒπŒ∫ŒÆœÇ Œ±œÄŒøŒ∏ŒÆŒ∫ŒµœÖœÉŒ∑œÇ ŒºŒ∑ŒΩœçŒºŒ±œÑŒøœÇ:',error);}}startMessageProcessing(){window.addEventListener('storage',this.handleStorageEvent.bind(this));this.messageInterval=setInterval(()=>{this.checkForNewMessages();},1000);}handleStorageEvent(event){if(event.key&&event.key.startsWith('roottly_session_')&&!event.key.includes(this.currentUser)){try{const messages=JSON.parse(event.newValue||'[]');const lastMessage=messages[messages.length-1];if(lastMessage&&lastMessage.sender!==this.currentUser){var _this$messageCallback;(_this$messageCallback=this.messageCallback)===null||_this$messageCallback===void 0?void 0:_this$messageCallback.call(this,lastMessage);}}catch(error){console.error('Œ£œÜŒ¨ŒªŒºŒ± ŒµœÄŒµŒæŒµœÅŒ≥Œ±œÉŒØŒ±œÇ storage event:',error);}}}checkForNewMessages(){try{for(let i=0;i<localStorage.length;i++){const key=localStorage.key(i);if(key&&key.startsWith('roottly_session_')&&!key.includes(this.currentUser)){const messages=JSON.parse(localStorage.getItem(key)||'[]');const lastMessage=messages[messages.length-1];if(lastMessage&&lastMessage.sender!==this.currentUser){const processedKey='processed_'+lastMessage.id;if(!localStorage.getItem(processedKey)){var _this$messageCallback2;localStorage.setItem(processedKey,'true');(_this$messageCallback2=this.messageCallback)===null||_this$messageCallback2===void 0?void 0:_this$messageCallback2.call(this,lastMessage);}}}}}catch(error){console.error('Œ£œÜŒ¨ŒªŒºŒ± ŒµŒªŒ≠Œ≥œáŒøœÖ ŒΩŒ≠œâŒΩ ŒºŒ∑ŒΩœÖŒºŒ¨œÑœâŒΩ:',error);}}handleNotification(event){try{const decoder=new TextDecoder();const data=decoder.decode(event.target.value);let messageData;try{messageData=JSON.parse(data);}catch{messageData={type:'roottly_message',text:data,timestamp:new Date().toLocaleTimeString('el-GR',{hour:'2-digit',minute:'2-digit'}),sender:'ŒëœÄŒøŒºŒ±Œ∫œÅœÖœÉŒºŒ≠ŒΩŒ∑ Œ£œÖœÉŒ∫ŒµœÖŒÆ',id:Date.now()};}if(messageData.type==='roottly_message'&&messageData.sender!==this.currentUser){var _this$messageCallback3;(_this$messageCallback3=this.messageCallback)===null||_this$messageCallback3===void 0?void 0:_this$messageCallback3.call(this,messageData);}}catch(error){console.error('ŒëœÄŒøœÑœÖœáŒØŒ± œáŒµŒπœÅŒπœÉŒºŒøœç ŒµŒπŒ¥ŒøœÄŒøŒØŒ∑œÉŒ∑œÇ:',error);}}chunkArray(array,chunkSize){const chunks=[];for(let i=0;i<array.length;i+=chunkSize){chunks.push(array.slice(i,i+chunkSize));}return chunks;}onDisconnected(){var _this$onConnectionSta3;console.log('Œó œÉœÖœÉŒ∫ŒµœÖŒÆ Bluetooth Œ±œÄŒøœÉœÖŒΩŒ¥Œ≠Œ∏Œ∑Œ∫Œµ');this.isConnected=false;this.device=null;this.server=null;this.service=null;this.characteristic=null;if(this.messageInterval){clearInterval(this.messageInterval);this.messageInterval=null;}(_this$onConnectionSta3=this.onConnectionStatusChanged)===null||_this$onConnectionSta3===void 0?void 0:_this$onConnectionSta3.call(this,false);}async disconnect(){try{if(this.messageInterval){clearInterval(this.messageInterval);this.messageInterval=null;}if(this.server&&this.server.connected){await this.server.disconnect();}this.onDisconnected();console.log('ŒëœÄŒøœÉœÖŒΩŒ¥Œ≠Œ∏Œ∑Œ∫Œµ ŒµœÄŒπœÑœÖœáœéœÇ');}catch(error){console.error('Œ£œÜŒ¨ŒªŒºŒ± Œ∫Œ±œÑŒ¨ œÑŒ∑ŒΩ Œ±œÄŒøœÉœçŒΩŒ¥ŒµœÉŒ∑:',error);this.onDisconnected();}}getConnectionStatus(){var _this$device,_this$characteristic,_this$characteristic$;return{isConnected:this.isConnected,deviceName:((_this$device=this.device)===null||_this$device===void 0?void 0:_this$device.name)||'ŒÜŒ≥ŒΩœâœÉœÑŒ∑',hasNotifications:((_this$characteristic=this.characteristic)===null||_this$characteristic===void 0?void 0:(_this$characteristic$=_this$characteristic.properties)===null||_this$characteristic$===void 0?void 0:_this$characteristic$.notify)||false};}async testConnection(){try{await this.sendMessage('ping_test');return true;}catch(error){console.error('Œü Œ≠ŒªŒµŒ≥œáŒøœÇ œÉœçŒΩŒ¥ŒµœÉŒ∑œÇ Œ±œÄŒ≠œÑœÖœáŒµ:',error);return false;}}clearStoredMessages(){try{const keysToRemove=[];for(let i=0;i<localStorage.length;i++){const key=localStorage.key(i);if(key&&(key.startsWith('roottly_session_')||key.startsWith('processed_'))){keysToRemove.push(key);}}keysToRemove.forEach(key=>localStorage.removeItem(key));console.log('ŒîŒπŒ±Œ≥œÅŒ¨œÜŒ∑Œ∫Œ±ŒΩ œÑŒ± Œ±œÄŒøŒ∏Œ∑Œ∫ŒµœÖŒºŒ≠ŒΩŒ± ŒºŒ∑ŒΩœçŒºŒ±œÑŒ±');}catch(error){console.error('Œ£œÜŒ¨ŒªŒºŒ± Œ¥ŒπŒ±Œ≥œÅŒ±œÜŒÆœÇ Œ±œÄŒøŒ∏Œ∑Œ∫ŒµœÖŒºŒ≠ŒΩœâŒΩ ŒºŒ∑ŒΩœÖŒºŒ¨œÑœâŒΩ:',error);}}}// Translations\nconst translations={el:{welcome:\"ŒöŒ±ŒªœéœÇ ŒÆœÅŒ∏Œ±œÑŒµ\",selectRole:\"ŒïœÄŒπŒªŒ≠ŒæœÑŒµ œÄŒøŒπŒøœÇ ŒµŒØœÉœÑŒµ\",iAmGrandparent:\"ŒïŒØŒºŒ±Œπ Œ†Œ±œÄœÄŒøœçœÇ/ŒìŒπŒ±Œ≥ŒπŒ¨\",iAmChild:\"ŒïŒØŒºŒ±Œπ Œ†Œ±ŒπŒ¥ŒØ/ŒïŒ≥Œ≥œåŒΩŒπ\",yourName:\"Œ§Œø œåŒΩŒøŒºŒ± œÉŒ±œÇ\",grandparentPhone:\"Œ§Œ∑ŒªŒ≠œÜœâŒΩŒø Œ†Œ±œÄœÄŒøœç / ŒìŒπŒ±Œ≥ŒπŒ¨œÇ\",selectDevice:\"Œ§Œπ œÉœÖœÉŒ∫ŒµœÖŒÆ Œ≠œáŒµŒπ Œø œÄŒ±œÄœÄŒøœçœÇ / Œ≥ŒπŒ±Œ≥ŒπŒ¨;\",basicPhone:\"ŒëœÄŒªœå œÑŒ∑ŒªŒ≠œÜœâŒΩŒø ŒºŒµ Œ∫ŒøœÖŒºœÄŒπŒ¨\",smartphone:\"Smartphone\",selectInterests:\"ŒïœÄŒπŒªŒ≠ŒæœÑŒµ œÑŒ± ŒµŒΩŒ¥ŒπŒ±œÜŒ≠œÅŒøŒΩœÑŒ¨ œÉŒ±œÇ\",continue:\"Œ£œÖŒΩŒ≠œáŒµŒπŒ±\",complete:\"ŒüŒªŒøŒ∫ŒªŒÆœÅœâœÉŒ∑\",back:\"Œ†ŒØœÉœâ\",language:\"ŒìŒªœéœÉœÉŒ±\",textSize:\"ŒúŒ≠Œ≥ŒµŒ∏ŒøœÇ Œ∫ŒµŒπŒºŒ≠ŒΩŒøœÖ\",small:\"ŒúŒπŒ∫œÅœå\",medium:\"ŒúŒµœÉŒ±ŒØŒø\",large:\"ŒúŒµŒ≥Œ¨ŒªŒø\",typeMessage:\"Œ†ŒªŒ∑Œ∫œÑœÅŒøŒªŒøŒ≥ŒÆœÉœÑŒµ ŒºŒÆŒΩœÖŒºŒ±...\",send:\"ŒëœÄŒøœÉœÑŒøŒªŒÆ\",messages:\"ŒúŒ∑ŒΩœçŒºŒ±œÑŒ±\",cooking:\"ŒúŒ±Œ≥ŒµŒØœÅŒµŒºŒ±\",gardening:\"ŒöŒ∑œÄŒøœÖœÅŒπŒ∫ŒÆ\",music:\"ŒúŒøœÖœÉŒπŒ∫ŒÆ\",reading:\"ŒîŒπŒ¨Œ≤Œ±œÉŒºŒ±\",walking:\"Œ†ŒµœÅœÄŒ¨œÑŒ∑ŒºŒ±\",photos:\"Œ¶œâœÑŒøŒ≥œÅŒ±œÜŒØŒµœÇ\",games:\"Œ†Œ±ŒπœáŒΩŒØŒ¥ŒπŒ±\",crafts:\"ŒßŒµŒπœÅŒøœÑŒµœáŒΩŒØŒµœÇ\",movies:\"Œ§Œ±ŒπŒΩŒØŒµœÇ\",travel:\"Œ§Œ±ŒæŒØŒ¥ŒπŒ±\"},en:{welcome:\"Welcome\",selectRole:\"Select who you are\",iAmGrandparent:\"I'm a Grandparent\",iAmChild:\"I'm a Child/Grandchild\",yourName:\"Your name\",grandparentPhone:\"Grandparent's Phone\",selectDevice:\"What device does grandparent have?\",basicPhone:\"Basic phone with buttons\",smartphone:\"Smartphone\",selectInterests:\"Select your interests\",continue:\"Continue\",complete:\"Complete\",back:\"Back\",language:\"Language\",textSize:\"Text Size\",small:\"Small\",medium:\"Medium\",large:\"Large\",typeMessage:\"Type a message...\",send:\"Send\",messages:\"Messages\",cooking:\"Cooking\",gardening:\"Gardening\",music:\"Music\",reading:\"Reading\",walking:\"Walking\",photos:\"Photos\",games:\"Games\",crafts:\"Crafts\",movies:\"Movies\",travel:\"Travel\"}};// Available interests\nconst availableInterests=[{id:'cooking',icon:'üë®‚Äçüç≥'},{id:'gardening',icon:'üå±'},{id:'music',icon:'üéµ'},{id:'reading',icon:'üìö'},{id:'walking',icon:'üö∂'},{id:'photos',icon:'üì∑'},{id:'games',icon:'üé≤'},{id:'crafts',icon:'üé®'},{id:'movies',icon:'üé¨'},{id:'travel',icon:'‚úàÔ∏è'}];export default function App(){// Core state\nconst[currentView,setCurrentView]=useState('splash');const[language,setLanguage]=useState('el');const[textSize,setTextSize]=useState('medium');const[onboardingStep,setOnboardingStep]=useState(1);// User data\nconst[userRole,setUserRole]=useState('');const[userName,setUserName]=useState('');const[grandparentName,setGrandparentName]=useState('');const[grandparentPhone,setGrandparentPhone]=useState('');const[grandparentDevice,setGrandparentDevice]=useState('');const[userInterests,setUserInterests]=useState([]);const[grandparentInterests,setGrandparentInterests]=useState([]);// App data\nconst[messages,setMessages]=useState([]);const[messageInput,setMessageInput]=useState('');const[showVideoCall,setShowVideoCall]=useState(false);const[gameScore,setGameScore]=useState(150);const[completedLessons,setCompletedLessons]=useState([]);const[selectedAvatar,setSelectedAvatar]=useState('elder_man');const[selectedAccessories,setSelectedAccessories]=useState([]);const[unlockedFeatures,setUnlockedFeatures]=useState([]);const[claimedRewards,setClaimedRewards]=useState([]);// Real Bluetooth connection state\nconst[isConnected,setIsConnected]=useState(false);const[showConnection,setShowConnection]=useState(false);const[pairedDevice,setPairedDevice]=useState(null);const[isConnecting,setIsConnecting]=useState(false);// Initialize Bluetooth service\nconst bluetoothServiceRef=useRef(null);useEffect(()=>{// Initialize Bluetooth service\nbluetoothServiceRef.current=new BluetoothService();// Set up callbacks\nbluetoothServiceRef.current.setMessageReceivedCallback(messageData=>{const newMessage={id:messageData.id,text:messageData.text,type:'received',timestamp:messageData.timestamp,status:'received',sender:messageData.sender};setMessages(prev=>[...prev,newMessage]);});bluetoothServiceRef.current.setConnectionStatusCallback(connected=>{setIsConnected(connected);if(connected){setPairedDevice(userRole==='grandparent'?'ŒïŒ≥Œ≥œåŒΩŒπ':'Œ†Œ±œÄœÄŒøœçœÇ');setShowConnection(false);showSuccessMessage('Œ£œÖŒΩŒ¥Œ≠Œ∏Œ∑Œ∫Œµ ŒµœÄŒπœÑœÖœáœéœÇ!','üì±');bluetoothServiceRef.current.startMessageProcessing();}else{setPairedDevice(null);}setIsConnecting(false);});// Set current user for message filtering\nif(userName){bluetoothServiceRef.current.setCurrentUser(userName);}},[userRole,userName]);const t=translations[language];// Text size classes\nconst textSizeClasses={small:'text-lg',medium:'text-xl',large:'text-2xl'};const buttonSizeClasses={small:'p-4 text-lg',medium:'p-6 text-xl',large:'p-8 text-2xl'};// Helper functions\nconst toggleInterest=function(interest){let isGrandparent=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(isGrandparent){setGrandparentInterests(prev=>prev.includes(interest)?prev.filter(i=>i!==interest):[...prev,interest]);}else{setUserInterests(prev=>prev.includes(interest)?prev.filter(i=>i!==interest):[...prev,interest]);}};const completeLesson=lessonId=>{if(!completedLessons.includes(lessonId)){setCompletedLessons(prev=>[...prev,lessonId]);setGameScore(prev=>prev+25);}};// Real Bluetooth connection functions\nconst startBluetoothConnection=async()=>{var _bluetoothServiceRef$;if(!((_bluetoothServiceRef$=bluetoothServiceRef.current)!==null&&_bluetoothServiceRef$!==void 0&&_bluetoothServiceRef$.isBluetoothSupported())){showSuccessMessage('Œ§Œø Bluetooth Œ¥ŒµŒΩ œÖœÄŒøœÉœÑŒ∑œÅŒØŒ∂ŒµœÑŒ±Œπ œÉŒµ Œ±œÖœÑŒÆ œÑŒ∑ œÉœÖœÉŒ∫ŒµœÖŒÆ','‚ùå');return;}setIsConnecting(true);setShowConnection(true);try{await bluetoothServiceRef.current.requestAndConnect();}catch(error){console.error('Bluetooth connection failed:',error);setIsConnecting(false);setShowConnection(false);showSuccessMessage('ŒëœÄŒøœÑœÖœáŒØŒ± œÉœçŒΩŒ¥ŒµœÉŒ∑œÇ Bluetooth: '+error.message,'‚ùå');}};// Send real Bluetooth message\nconst sendBluetoothMessage=async messageText=>{if(!bluetoothServiceRef.current){console.error('Bluetooth service not available');return false;}try{const messageData={id:Date.now(),text:messageText,timestamp:new Date().toLocaleTimeString('el-GR',{hour:'2-digit',minute:'2-digit'}),sender:userName||(userRole==='grandparent'?'Œ†Œ±œÄœÄŒøœçœÇ/ŒìŒπŒ±Œ≥ŒπŒ¨':'Œ†Œ±ŒπŒ¥ŒØ')};if(isConnected){await bluetoothServiceRef.current.sendMessage(messageText);}// Add to local messages as sent\nconst sentMessage={...messageData,type:'sent',status:'sent'};setMessages(prev=>[...prev,sentMessage]);return true;}catch(error){console.error('Failed to send Bluetooth message:',error);showSuccessMessage('ŒëœÄŒøœÑœÖœáŒØŒ± Œ±œÄŒøœÉœÑŒøŒªŒÆœÇ ŒºŒ∑ŒΩœçŒºŒ±œÑŒøœÇ: '+error.message,'‚ùå');return false;}};const showSuccessMessage=(message,icon)=>{const successDiv=document.createElement('div');successDiv.className='fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-green-600 text-white p-8 rounded-3xl shadow-2xl z-50 text-center max-w-lg border-4 border-white';successDiv.innerHTML=`\n      <div class=\"text-6xl mb-4\">${icon}</div>\n      <p class=\"text-2xl font-bold mb-6\">${message}</p>\n      <button onclick=\"this.parentElement.remove()\" class=\"bg-white text-green-600 px-8 py-4 rounded-2xl font-bold hover:bg-gray-100 text-xl\">\n        Œ•œÄŒ≠œÅŒøœáŒ±!\n      </button>\n    `;document.body.appendChild(successDiv);setTimeout(()=>successDiv.remove(),8000);};// Auto-advance splash screen\nuseEffect(()=>{if(currentView==='splash'){const timer=setTimeout(()=>{setCurrentView('onboarding');},3000);return()=>clearTimeout(timer);}},[currentView]);// Show splash screen\nif(currentView==='splash'){return/*#__PURE__*/_jsx(SplashScreen,{setCurrentView:setCurrentView});}// Show connection screen\nif(showConnection){return/*#__PURE__*/_jsx(ConnectionScreen,{userRole:userRole,setShowConnection:setShowConnection,setIsConnected:setIsConnected,setPairedDevice:setPairedDevice,showSuccessMessage:showSuccessMessage,bluetoothService:bluetoothServiceRef.current,isConnecting:isConnecting});}// Show video call overlay\nif(showVideoCall){return/*#__PURE__*/_jsx(VideoCall,{contactName:userRole==='child'?grandparentName:userName,onEndCall:()=>setShowVideoCall(false),language:language,textSizeClasses:textSizeClasses,textSize:textSize});}// Main render switch\nswitch(currentView){case'onboarding':return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-md mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-3xl shadow-2xl p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-20 h-16 mx-auto mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full h-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"absolute left-0 top-0 w-8 h-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-6 h-6 bg-blue-500 rounded-full relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1 left-0 w-2 h-2 border border-gray-800 rounded-full bg-white\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1 right-0 w-2 h-2 border border-gray-800 rounded-full bg-white\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-3 left-1 w-4 h-1 border-b border-gray-800 rounded-full\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-5 h-6 bg-blue-400 rounded-b-2xl mx-0.5\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-0 top-0 w-8 h-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-6 h-6 bg-orange-500 rounded-full relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute -top-1 left-1 w-4 h-2 bg-orange-600 rounded-t-full\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1 left-1 w-1 h-1 bg-gray-800 rounded-full\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1 right-1 w-1 h-1 bg-gray-800 rounded-full\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-3 left-1 w-4 h-1 border-b border-gray-800 rounded-full\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-5 h-6 bg-orange-400 rounded-b-2xl mx-0.5\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-3 left-6 right-6 h-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full bg-gradient-to-r from-blue-400 to-orange-400 rounded-full\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-600\",children:\"Root\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-orange-600\",children:\"tly\"})]})]}),onboardingStep===1&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-center mb-2\",children:t.welcome}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-600 mb-8\",children:t.selectRole}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setUserRole('grandparent');setOnboardingStep(2);},className:\"w-full p-6 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-2xl hover:shadow-lg transition-all text-xl font-bold\",children:[/*#__PURE__*/_jsx(Users,{className:\"inline mr-3 w-8 h-8\"}),t.iAmGrandparent]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setUserRole('child');setOnboardingStep(2);},className:\"w-full p-6 bg-gradient-to-r from-blue-500 to-green-500 text-white rounded-2xl hover:shadow-lg transition-all text-xl font-bold\",children:[/*#__PURE__*/_jsx(Heart,{className:\"inline mr-3 w-8 h-8\"}),t.iAmChild]})]})]}),onboardingStep===2&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setOnboardingStep(1),className:\"flex items-center text-gray-600 hover:text-gray-800\",children:[/*#__PURE__*/_jsx(ChevronLeft,{className:\"w-5 h-5\"}),t.back]}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-center\",children:t.yourName}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:userName,onChange:e=>setUserName(e.target.value),placeholder:t.yourName,className:\"w-full p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none text-lg\"}),userRole==='child'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:grandparentName,onChange:e=>setGrandparentName(e.target.value),placeholder:\"\\u038C\\u03BD\\u03BF\\u03BC\\u03B1 \\u03A0\\u03B1\\u03C0\\u03C0\\u03BF\\u03CD/\\u0393\\u03B9\\u03B1\\u03B3\\u03B9\\u03AC\\u03C2\",className:\"w-full p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none text-lg\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:grandparentPhone,onChange:e=>setGrandparentPhone(e.target.value),placeholder:t.grandparentPhone,className:\"w-full p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none text-lg\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setOnboardingStep(userRole==='child'?3:4),disabled:!userName||userRole==='child'&&(!grandparentName||!grandparentPhone),className:\"w-full p-4 bg-blue-500 text-white rounded-xl hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-lg font-bold\",children:t.continue})]}),onboardingStep===3&&userRole==='child'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setOnboardingStep(2),className:\"flex items-center text-gray-600 hover:text-gray-800\",children:[/*#__PURE__*/_jsx(ChevronLeft,{className:\"w-5 h-5\"}),t.back]}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-center\",children:t.selectDevice}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setGrandparentDevice('basic');setOnboardingStep(4);},className:\"w-full p-6 bg-gray-500 text-white rounded-xl hover:bg-gray-600 transition-colors text-lg font-bold\",children:[/*#__PURE__*/_jsx(Phone,{className:\"inline mr-3 w-6 h-6\"}),t.basicPhone]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setGrandparentDevice('smartphone');setOnboardingStep(4);},className:\"w-full p-6 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-colors text-lg font-bold\",children:[/*#__PURE__*/_jsx(Video,{className:\"inline mr-3 w-6 h-6\"}),t.smartphone]})]})]}),onboardingStep===4&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setOnboardingStep(userRole==='child'?3:2),className:\"flex items-center text-gray-600 hover:text-gray-800\",children:[/*#__PURE__*/_jsx(ChevronLeft,{className:\"w-5 h-5\"}),t.back]}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-center\",children:t.selectInterests}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-3 gap-3\",children:availableInterests.map(interest=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>toggleInterest(interest.id),className:`p-4 rounded-xl border-2 transition-all ${userInterests.includes(interest.id)?'bg-blue-500 text-white border-blue-500':'bg-white border-gray-300 hover:border-blue-300'}`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl mb-1\",children:interest.icon}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs\",children:t[interest.id]})]},interest.id))}),userRole==='child'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-center text-gray-600 font-semibold\",children:[grandparentName,\" - \",t.selectInterests]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-3 gap-3\",children:availableInterests.map(interest=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>toggleInterest(interest.id,true),className:`p-4 rounded-xl border-2 transition-all ${grandparentInterests.includes(interest.id)?'bg-orange-500 text-white border-orange-500':'bg-white border-gray-300 hover:border-orange-300'}`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl mb-1\",children:interest.icon}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs\",children:t[interest.id]})]},interest.id))})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentView(userRole==='grandparent'?'grandparentHome':'childHome'),disabled:userInterests.length===0,className:\"w-full p-4 bg-green-500 text-white rounded-xl hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-lg font-bold\",children:[/*#__PURE__*/_jsx(Check,{className:\"inline mr-2 w-5 h-5\"}),t.complete]})]})]})})});case'grandparentHome':return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-gradient-to-r from-blue-500 to-orange-500 text-white p-8 shadow-2xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-3xl font-bold mb-2\",children:[\"\\uD83C\\uDF1F \\u039A\\u03B1\\u03BB\\u03CE\\u03C2 \\u03AE\\u03C1\\u03B8\\u03B1\\u03C4\\u03B5, \",userName,\"!\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-6 mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 bg-white bg-opacity-25 rounded-3xl px-6 py-3\",children:[/*#__PURE__*/_jsx(Trophy,{className:\"w-8 h-8 text-yellow-300\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-yellow-300 font-bold text-2xl\",children:[gameScore,\" \\u03C0\\u03CC\\u03BD\\u03C4\\u03BF\\u03B9\"]})]}),isConnected&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-green-400 rounded-full animate-pulse\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-green-300 font-semibold\",children:[\"\\u03A3\\u03C5\\u03BD\\u03B4\\u03B5\\u03B4\\u03B5\\u03BC\\u03AD\\u03BD\\u03BF\\u03C2 \\u03BC\\u03B5 \",pairedDevice]})]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView('avatarSelection'),className:\"text-8xl hover:scale-110 transition-transform cursor-pointer bg-white bg-opacity-20 rounded-3xl p-4 hover:bg-opacity-30\",title:\"\\u0391\\u03BB\\u03BB\\u03AC\\u03BE\\u03C4\\u03B5 \\u03C4\\u03BF Avatar \\u03C3\\u03B1\\u03C2\",children:(()=>{const avatar={'elder_man':'üë®‚Äçü¶≥','elder_woman':'üëµ','young_man':'üë¶','young_woman':'üëß','happy_elder':'üòä','cool_elder':'üòé','wise_elder':'üßô‚Äç‚ôÇÔ∏è','tech_elder':'ü§ì','chef_elder':'üë®‚Äçüç≥','artist_elder':'üé®','superhero':'ü¶∏‚Äç‚ôÇÔ∏è','princess':'üë∏','ninja_elder':'ü•∑','mermaid_elder':'üßú‚Äç‚ôÄÔ∏è'}[selectedAvatar]||'üë®‚Äçü¶≥';const accessories=selectedAccessories.map(id=>{const accessoryMap={'hat_basic':'üß¢','hat_formal':'üé©','crown':'üëë','glasses':'üëì','sunglasses':'üï∂Ô∏è','bow_tie':'üéÄ','flower':'üå∏','medal':'üèÖ','star':'‚≠ê','heart':'üíñ','rainbow':'üåà','lightning':'‚ö°','diamond':'üíé','fire':'üî•'};return accessoryMap[id]||'';}).join('');return avatar+accessories;})()})]})}),/*#__PURE__*/_jsxs(\"main\",{className:\"p-8 pb-32\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-8 max-w-5xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentView('messages'),className:\"p-10 bg-gradient-to-br from-blue-400 to-blue-600 text-white rounded-3xl shadow-2xl hover:shadow-3xl transition-all transform hover:scale-105 border-4 border-white\",children:[/*#__PURE__*/_jsx(MessageSquare,{className:\"w-24 h-24 mx-auto mb-6\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl font-bold\",children:\"\\uD83D\\uDCAC \\u039C\\u03B7\\u03BD\\u03CD\\u03BC\\u03B1\\u03C4\\u03B1\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowVideoCall(true),className:\"p-10 bg-gradient-to-br from-green-400 to-green-600 text-white rounded-3xl shadow-2xl hover:shadow-3xl transition-all transform hover:scale-105 border-4 border-white\",children:[/*#__PURE__*/_jsx(Video,{className:\"w-24 h-24 mx-auto mb-6\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl font-bold\",children:\"\\uD83D\\uDCF9 \\u0392\\u03B9\\u03BD\\u03C4\\u03B5\\u03BF\\u03BA\\u03BB\\u03AE\\u03C3\\u03B7\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentView('activityWheel'),className:\"p-10 bg-gradient-to-br from-purple-400 to-purple-600 text-white rounded-3xl shadow-2xl hover:shadow-3xl transition-all transform hover:scale-105 border-4 border-white\",children:[/*#__PURE__*/_jsx(Sparkles,{className:\"w-24 h-24 mx-auto mb-6\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl font-bold\",children:\"\\uD83C\\uDFA1 \\u0394\\u03C1\\u03B1\\u03C3\\u03C4\\u03B7\\u03C1\\u03B9\\u03CC\\u03C4\\u03B7\\u03C4\\u03B5\\u03C2\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentView('lessons'),className:\"p-10 bg-gradient-to-br from-orange-400 to-orange-600 text-white rounded-3xl shadow-2xl hover:shadow-3xl transition-all transform hover:scale-105 border-4 border-white relative\",children:[/*#__PURE__*/_jsx(Book,{className:\"w-24 h-24 mx-auto mb-6\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl font-bold\",children:\"\\uD83D\\uDCDA \\u039C\\u03B1\\u03B8\\u03AE\\u03BC\\u03B1\\u03C4\\u03B1\"}),completedLessons.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute -top-4 -right-4 bg-yellow-400 text-yellow-900 px-6 py-3 rounded-full text-2xl font-bold border-4 border-white shadow-lg\",children:[completedLessons.length,\"/5 \\u2713\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-8 max-w-5xl mx-auto mt-8\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentView('rewardsCenter'),className:\"p-10 bg-gradient-to-br from-yellow-400 to-yellow-600 text-white rounded-3xl shadow-2xl hover:shadow-3xl transition-all transform hover:scale-105 border-4 border-white\",children:[/*#__PURE__*/_jsx(Gift,{className:\"w-24 h-24 mx-auto mb-6\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl font-bold\",children:\"\\uD83C\\uDF81 \\u0391\\u03BD\\u03C4\\u03B1\\u03BC\\u03BF\\u03B9\\u03B2\\u03AD\\u03C2\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentView('settings'),className:\"p-10 bg-gradient-to-br from-gray-400 to-gray-600 text-white rounded-3xl shadow-2xl hover:shadow-3xl transition-all transform hover:scale-105 border-4 border-white\",children:[/*#__PURE__*/_jsx(SettingsIcon,{className:\"w-24 h-24 mx-auto mb-6\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl font-bold\",children:\"\\u2699\\uFE0F \\u03A1\\u03C5\\u03B8\\u03BC\\u03AF\\u03C3\\u03B5\\u03B9\\u03C2\"})]})]}),!isConnected&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-16 max-w-5xl mx-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-100 to-green-100 border-4 border-blue-300 rounded-3xl p-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(Bluetooth,{className:\"w-16 h-16 mx-auto mb-6 text-blue-600\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-3xl font-bold mb-4 text-blue-800\",children:\"\\u03A3\\u03C5\\u03BD\\u03B4\\u03AD\\u03C3\\u03C4\\u03B5 \\u03BC\\u03B5 \\u03C4\\u03B7\\u03BD \\u03BF\\u03B9\\u03BA\\u03BF\\u03B3\\u03AD\\u03BD\\u03B5\\u03B9\\u03B1\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-700 mb-8 text-xl\",children:\"\\u03A3\\u03C5\\u03BD\\u03B4\\u03AD\\u03C3\\u03C4\\u03B5 \\u03C4\\u03B7 \\u03C3\\u03C5\\u03C3\\u03BA\\u03B5\\u03C5\\u03AE \\u03C3\\u03B1\\u03C2 \\u03BC\\u03B5 \\u03C4\\u03BF \\u03C0\\u03B1\\u03B9\\u03B4\\u03AF/\\u03B5\\u03B3\\u03B3\\u03CC\\u03BD\\u03B9 \\u03B3\\u03B9\\u03B1 \\u03C0\\u03C1\\u03B1\\u03B3\\u03BC\\u03B1\\u03C4\\u03B9\\u03BA\\u03AE \\u03B5\\u03C0\\u03B9\\u03BA\\u03BF\\u03B9\\u03BD\\u03C9\\u03BD\\u03AF\\u03B1\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:startBluetoothConnection,className:\"bg-blue-500 text-white px-10 py-6 rounded-3xl font-bold hover:bg-blue-600 transition-colors text-2xl shadow-xl\",disabled:isConnecting,children:[/*#__PURE__*/_jsx(UserPlus,{className:\"inline mr-3 w-8 h-8\"}),isConnecting?'Œ£œÖŒΩŒ¥Œ≠ŒµœÑŒ±Œπ...':'ŒûŒµŒ∫ŒØŒΩŒ± Œ£œçŒΩŒ¥ŒµœÉŒ∑ Bluetooth']})]})})})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"fixed bottom-0 left-0 right-0 bg-white border-t-4 border-blue-200 px-8 py-6 shadow-2xl\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-500 text-white p-8 rounded-full shadow-lg text-3xl\",children:/*#__PURE__*/_jsx(Home,{className:\"w-16 h-16\"})})})})]});case'childHome':return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-50 to-green-50\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-gradient-to-r from-blue-500 to-green-500 text-white p-8 shadow-xl\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-3xl font-bold mb-2\",children:[\"\\u039A\\u03B1\\u03BB\\u03CE\\u03C2 \\u03AE\\u03C1\\u03B8\\u03B1\\u03C4\\u03B5, \",userName,\"! \\uD83D\\uDC4B\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl mt-2\",children:[\"\\uD83D\\uDCF1 \",grandparentName,\" - \",grandparentDevice==='basic'?'ŒëœÄŒªœå œÑŒ∑ŒªŒ≠œÜœâŒΩŒø':'Smartphone']}),isConnected&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mt-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-green-400 rounded-full animate-pulse\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-green-300 font-semibold\",children:[\"\\u03A3\\u03C5\\u03BD\\u03B4\\u03B5\\u03B4\\u03B5\\u03BC\\u03AD\\u03BD\\u03BF\\u03C2 \\u03BC\\u03B5 \",pairedDevice]})]})]})})}),/*#__PURE__*/_jsxs(\"main\",{className:\"p-6 pb-28\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-6 max-w-3xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentView('messages'),className:\"p-8 bg-gradient-to-r from-blue-400 to-blue-600 text-white rounded-3xl shadow-xl hover:shadow-2xl transition-all transform hover:scale-105 border-4 border-white\",children:[grandparentDevice==='basic'?/*#__PURE__*/_jsx(Mail,{className:\"w-16 h-16 mx-auto mb-4\"}):/*#__PURE__*/_jsx(MessageSquare,{className:\"w-16 h-16 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold\",children:grandparentDevice==='basic'?'SMS':'ŒúŒ∑ŒΩœçŒºŒ±œÑŒ±'})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentView('socialShare'),className:\"p-8 bg-gradient-to-r from-purple-400 to-purple-600 text-white rounded-3xl shadow-xl hover:shadow-2xl transition-all transform hover:scale-105 border-4 border-white\",children:[/*#__PURE__*/_jsx(Share2,{className:\"w-16 h-16 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold\",children:\"\\u039A\\u03BF\\u03B9\\u03BD\\u03BF\\u03C0\\u03BF\\u03AF\\u03B7\\u03C3\\u03B7\"})]}),grandparentDevice==='smartphone'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowVideoCall(true),className:\"p-8 bg-gradient-to-r from-green-400 to-green-600 text-white rounded-3xl shadow-xl hover:shadow-2xl transition-all transform hover:scale-105 border-4 border-white\",children:[/*#__PURE__*/_jsx(Video,{className:\"w-16 h-16 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold\",children:\"\\u0392\\u03B9\\u03BD\\u03C4\\u03B5\\u03BF\\u03BA\\u03BB\\u03AE\\u03C3\\u03B7\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentView('activityWheel'),className:\"p-8 bg-gradient-to-r from-orange-400 to-orange-600 text-white rounded-3xl shadow-xl hover:shadow-2xl transition-all transform hover:scale-105 border-4 border-white\",children:[/*#__PURE__*/_jsx(Sparkles,{className:\"w-16 h-16 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold\",children:\"\\u0394\\u03C1\\u03B1\\u03C3\\u03C4\\u03B7\\u03C1\\u03B9\\u03CC\\u03C4\\u03B7\\u03C4\\u03B5\\u03C2\"})]})]})]}),!isConnected&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-10 max-w-3xl mx-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-100 border-l-8 border-green-500 p-6 rounded-r-2xl shadow-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(QrCode,{className:\"w-12 h-12 text-green-500\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-bold text-green-800\",children:[\"\\u03A3\\u03C5\\u03BD\\u03B4\\u03B5\\u03B8\\u03B5\\u03AF\\u03C4\\u03B5 \\u03BC\\u03B5 \\u03C4\\u03BF\\u03BD \",grandparentName]}),/*#__PURE__*/_jsx(\"button\",{onClick:startBluetoothConnection,className:\"mt-2 bg-green-500 text-white px-6 py-2 rounded-lg font-bold hover:bg-green-600 transition-colors\",disabled:isConnecting,children:isConnecting?'Œ£œÖŒΩŒ¥Œ≠ŒµœÑŒ±Œπ...':'ŒûŒµŒ∫ŒØŒΩŒ± Œ£œçŒΩŒ¥ŒµœÉŒ∑ Bluetooth'})]})]})})})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"fixed bottom-0 left-0 right-0 bg-white border-t-4 border-gray-200 px-6 py-4 shadow-xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-around items-center max-w-md mx-auto\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"text-blue-500 p-4 rounded-2xl hover:bg-blue-50\",children:/*#__PURE__*/_jsx(Home,{className:\"w-12 h-12\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView('settings'),className:\"text-gray-600 p-4 rounded-2xl hover:bg-gray-50\",children:/*#__PURE__*/_jsx(SettingsIcon,{className:\"w-12 h-12\"})})]})})]});case'settings':return/*#__PURE__*/_jsx(Settings,{language:language,setLanguage:setLanguage,textSize:textSize,setTextSize:setTextSize,setCurrentView:setCurrentView,userRole:userRole,t:t,textSizeClasses:textSizeClasses,buttonSizeClasses:buttonSizeClasses});case'activityWheel':return/*#__PURE__*/_jsx(ActivityWheel,{userRole:userRole,userInterests:userInterests,grandparentInterests:grandparentInterests,setCurrentView:setCurrentView,t:t,textSizeClasses:textSizeClasses,buttonSizeClasses:buttonSizeClasses,textSize:textSize,language:language});case'messages':return/*#__PURE__*/_jsx(Messages,{messages:messages,messageInput:messageInput,setMessageInput:setMessageInput,setMessages:setMessages,setCurrentView:setCurrentView,userRole:userRole,grandparentName:grandparentName,grandparentDevice:grandparentDevice,userName:userName,grandparentPhone:grandparentPhone,t:t,textSizeClasses:textSizeClasses,buttonSizeClasses:buttonSizeClasses,textSize:textSize,isConnected:isConnected,sendBluetoothMessage:sendBluetoothMessage});case'lessons':return/*#__PURE__*/_jsx(Lessons,{setCurrentView:setCurrentView,completedLessons:completedLessons,completeLesson:completeLesson,gameScore:gameScore,setGameScore:setGameScore,t:t,textSizeClasses:textSizeClasses,buttonSizeClasses:buttonSizeClasses,textSize:textSize,language:language});case'socialShare':return/*#__PURE__*/_jsx(SocialShare,{setCurrentView:setCurrentView,grandparentName:grandparentName,grandparentDevice:grandparentDevice,userName:userName,setMessages:setMessages,messages:messages,t:t,textSizeClasses:textSizeClasses,buttonSizeClasses:buttonSizeClasses,textSize:textSize,language:language});case'avatarSelection':return/*#__PURE__*/_jsx(AvatarSelection,{setCurrentView:setCurrentView,userRole:userRole,selectedAvatar:selectedAvatar,setSelectedAvatar:setSelectedAvatar,selectedAccessories:selectedAccessories,setSelectedAccessories:setSelectedAccessories,gameScore:gameScore,setGameScore:setGameScore,t:t,textSizeClasses:textSizeClasses,buttonSizeClasses:buttonSizeClasses,textSize:textSize});case'rewardsCenter':return/*#__PURE__*/_jsx(RewardsCenter,{setCurrentView:setCurrentView,userRole:userRole,gameScore:gameScore,setGameScore:setGameScore,completedLessons:completedLessons,unlockedFeatures:unlockedFeatures,setUnlockedFeatures:setUnlockedFeatures,claimedRewards:claimedRewards,setClaimedRewards:setClaimedRewards,userName:userName,t:t,textSizeClasses:textSizeClasses,buttonSizeClasses:buttonSizeClasses,textSize:textSize});default:return/*#__PURE__*/_jsx(SplashScreen,{setCurrentView:setCurrentView});}}","map":{"version":3,"names":["React","useState","useEffect","useRef","Phone","MessageSquare","Video","Settings","SettingsIcon","Home","Users","Sparkles","Mail","Share2","Book","Trophy","Gift","Globe","Type","Volume2","Bell","Shield","Wifi","ChevronLeft","Heart","Send","Play","RotateCcw","Star","Crown","Check","ShoppingBag","Lock","Camera","Image","Smile","Award","HelpCircle","MessageCircle","Bluetooth","QrCode","UserPlus","Messages","VideoCall","Lessons","SocialShare","ActivityWheel","AvatarSelection","RewardsCenter","SplashScreen","ConnectionScreen","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BluetoothService","constructor","device","server","service","characteristic","isConnected","onMessageReceived","onConnectionStatusChanged","SERVICE_UUID","CHARACTERISTIC_UUID","ROOTTLY_SERVICE_UUID","ROOTTLY_MESSAGE_UUID","currentUser","messageCallback","isBluetoothSupported","navigator","bluetooth","setCurrentUser","user","setMessageReceivedCallback","callback","setConnectionStatusCallback","requestAndConnect","Error","requestDevice","acceptAllDevices","optionalServices","console","log","name","addEventListener","onDisconnected","bind","connectToDevice","error","message","_this$onConnectionSta","gatt","connect","findWritableService","call","startMessageProcessing","_this$onConnectionSta2","services","getPrimaryServices","length","characteristics","getCharacteristics","properties","write","writeWithoutResponse","notify","uuid","startNotifications","handleNotification","notifyError","warn","charError","sendMessage","messageText","messageData","type","text","timestamp","Date","toLocaleTimeString","hour","minute","sender","id","now","encoder","TextEncoder","data","encode","JSON","stringify","chunks","chunkArray","chunk","writeValue","storeMessageLocally","sessionKey","messages","parse","localStorage","getItem","push","splice","setItem","window","dispatchEvent","StorageEvent","key","newValue","handleStorageEvent","messageInterval","setInterval","checkForNewMessages","event","startsWith","includes","lastMessage","_this$messageCallback","i","processedKey","_this$messageCallback2","decoder","TextDecoder","decode","target","value","_this$messageCallback3","array","chunkSize","slice","_this$onConnectionSta3","clearInterval","disconnect","connected","getConnectionStatus","_this$device","_this$characteristic","_this$characteristic$","deviceName","hasNotifications","testConnection","clearStoredMessages","keysToRemove","forEach","removeItem","translations","el","welcome","selectRole","iAmGrandparent","iAmChild","yourName","grandparentPhone","selectDevice","basicPhone","smartphone","selectInterests","continue","complete","back","language","textSize","small","medium","large","typeMessage","send","cooking","gardening","music","reading","walking","photos","games","crafts","movies","travel","en","availableInterests","icon","App","currentView","setCurrentView","setLanguage","setTextSize","onboardingStep","setOnboardingStep","userRole","setUserRole","userName","setUserName","grandparentName","setGrandparentName","setGrandparentPhone","grandparentDevice","setGrandparentDevice","userInterests","setUserInterests","grandparentInterests","setGrandparentInterests","setMessages","messageInput","setMessageInput","showVideoCall","setShowVideoCall","gameScore","setGameScore","completedLessons","setCompletedLessons","selectedAvatar","setSelectedAvatar","selectedAccessories","setSelectedAccessories","unlockedFeatures","setUnlockedFeatures","claimedRewards","setClaimedRewards","setIsConnected","showConnection","setShowConnection","pairedDevice","setPairedDevice","isConnecting","setIsConnecting","bluetoothServiceRef","current","newMessage","status","prev","showSuccessMessage","t","textSizeClasses","buttonSizeClasses","toggleInterest","interest","isGrandparent","arguments","undefined","filter","completeLesson","lessonId","startBluetoothConnection","_bluetoothServiceRef$","sendBluetoothMessage","sentMessage","successDiv","document","createElement","className","innerHTML","body","appendChild","setTimeout","remove","timer","clearTimeout","bluetoothService","contactName","onEndCall","children","onClick","onChange","e","placeholder","disabled","map","title","avatar","accessories","accessoryMap","join"],"sources":["C:/Users/thodo/OneDrive/Documents/GitHub/Roottly_Applc/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Phone, MessageSquare, Video, Settings as SettingsIcon, Home, Users, Sparkles, Mail, Share2, Book, Trophy, Gift, Globe, Type, Volume2, Bell, Shield, Wifi, ChevronLeft, Heart, Send, Play, RotateCcw, Star, Crown, Check, ShoppingBag, Lock, Camera, Image, Smile, Award, HelpCircle, MessageCircle, Bluetooth, QrCode, UserPlus } from 'lucide-react';\r\n\r\n// Import components\r\nimport Settings from './components/Settings';\r\nimport Messages from './components/Messages';\r\nimport VideoCall from './components/VideoCall';\r\nimport Lessons from './components/Lessons';\r\nimport SocialShare from './components/SocialShare';\r\nimport ActivityWheel from './components/ActivityWheel';\r\nimport AvatarSelection from './components/AvatarSelection';\r\nimport RewardsCenter from './components/RewardsCenter';\r\nimport SplashScreen from './components/SplashScreen';\r\nimport ConnectionScreen from './components/ConnectionScreen';\r\n\r\n// Import CSS\r\nimport './App.css';\r\n\r\n// Real Bluetooth Service - Enhanced for actual device communication\r\nclass BluetoothService {\r\n  constructor() {\r\n    this.device = null;\r\n    this.server = null;\r\n    this.service = null;\r\n    this.characteristic = null;\r\n    this.isConnected = false;\r\n    this.onMessageReceived = null;\r\n    this.onConnectionStatusChanged = null;\r\n    \r\n    // Use well-known services for better compatibility\r\n    this.SERVICE_UUID = '0000180f-0000-1000-8000-00805f9b34fb'; // Battery Service\r\n    this.CHARACTERISTIC_UUID = '00002a19-0000-1000-8000-00805f9b34fb'; // Battery Level\r\n    \r\n    // Custom service for messaging\r\n    this.ROOTTLY_SERVICE_UUID = '12345678-1234-1234-1234-123456789abc';\r\n    this.ROOTTLY_MESSAGE_UUID = '87654321-4321-4321-4321-cba987654321';\r\n    \r\n    this.currentUser = null;\r\n    this.messageCallback = null;\r\n  }\r\n\r\n  isBluetoothSupported() {\r\n    return 'bluetooth' in navigator && navigator.bluetooth;\r\n  }\r\n\r\n  setCurrentUser(user) {\r\n    this.currentUser = user;\r\n  }\r\n\r\n  setMessageReceivedCallback(callback) {\r\n    this.messageCallback = callback;\r\n  }\r\n\r\n  setConnectionStatusCallback(callback) {\r\n    this.onConnectionStatusChanged = callback;\r\n  }\r\n\r\n  async requestAndConnect() {\r\n    if (!this.isBluetoothSupported()) {\r\n      throw new Error('Web Bluetooth Œ¥ŒµŒΩ œÖœÄŒøœÉœÑŒ∑œÅŒØŒ∂ŒµœÑŒ±Œπ. ŒßœÅŒ∑œÉŒπŒºŒøœÄŒøŒπŒÆœÉœÑŒµ Chrome ŒÆ Edge.');\r\n    }\r\n\r\n    try {\r\n      // Request any device for maximum compatibility\r\n      this.device = await navigator.bluetooth.requestDevice({\r\n        acceptAllDevices: true,\r\n        optionalServices: [\r\n          this.SERVICE_UUID,\r\n          this.ROOTTLY_SERVICE_UUID,\r\n          '0000180a-0000-1000-8000-00805f9b34fb', // Device Information\r\n          '00001800-0000-1000-8000-00805f9b34fb'  // Generic Access\r\n        ]\r\n      });\r\n\r\n      console.log('Œ£œÖœÉŒ∫ŒµœÖŒÆ ŒµœÄŒπŒªŒ≠œáŒ∏Œ∑Œ∫Œµ:', this.device.name || 'ŒÜŒ≥ŒΩœâœÉœÑŒ∑ Œ£œÖœÉŒ∫ŒµœÖŒÆ');\r\n      \r\n      this.device.addEventListener('gattserverdisconnected', this.onDisconnected.bind(this));\r\n      \r\n      return await this.connectToDevice();\r\n      \r\n    } catch (error) {\r\n      console.error('ŒëœÄŒøœÑœÖœáŒØŒ± ŒµœÄŒπŒªŒøŒ≥ŒÆœÇ œÉœÖœÉŒ∫ŒµœÖŒÆœÇ:', error);\r\n      if (error.name === 'NotFoundError') {\r\n        throw new Error('ŒîŒµŒΩ ŒµœÄŒπŒªŒ≠œáŒ∏Œ∑Œ∫Œµ œÉœÖœÉŒ∫ŒµœÖŒÆ. Œ†Œ±œÅŒ±Œ∫Œ±Œªœé Œ¥ŒøŒ∫ŒπŒºŒ¨œÉœÑŒµ ŒæŒ±ŒΩŒ¨.');\r\n      } else if (error.name === 'SecurityError') {\r\n        throw new Error('Œ†œÅœåŒ≤ŒªŒ∑ŒºŒ± Œ±œÉœÜŒ±ŒªŒµŒØŒ±œÇ. Œ†Œ±œÅŒ±Œ∫Œ±Œªœé ŒµœÄŒπœÑœÅŒ≠œàœÑŒµ œÑŒ∑ŒΩ œÄœÅœåœÉŒ≤Œ±œÉŒ∑ Bluetooth.');\r\n      }\r\n      throw new Error('ŒëœÄŒøœÑœÖœáŒØŒ± œÉœçŒΩŒ¥ŒµœÉŒ∑œÇ: ' + error.message);\r\n    }\r\n  }\r\n\r\n  async connectToDevice() {\r\n    if (!this.device) {\r\n      throw new Error('ŒîŒµŒΩ Œ≠œáŒµŒπ ŒµœÄŒπŒªŒµŒ≥ŒµŒØ œÉœÖœÉŒ∫ŒµœÖŒÆ');\r\n    }\r\n\r\n    try {\r\n      console.log('Œ£œçŒΩŒ¥ŒµœÉŒ∑ œÉœÑŒøŒΩ GATT server...');\r\n      this.server = await this.device.gatt.connect();\r\n      console.log('Œ£œÖŒΩŒ¥Œ≠Œ∏Œ∑Œ∫Œµ œÉœÑŒøŒΩ GATT server');\r\n\r\n      await this.findWritableService();\r\n      \r\n      this.isConnected = true;\r\n      this.onConnectionStatusChanged?.(true);\r\n      \r\n      this.startMessageProcessing();\r\n      \r\n      console.log('Œó œÉœçŒΩŒ¥ŒµœÉŒ∑ Bluetooth ŒøŒªŒøŒ∫ŒªŒ∑œÅœéŒ∏Œ∑Œ∫Œµ ŒµœÄŒπœÑœÖœáœéœÇ');\r\n      return true;\r\n      \r\n    } catch (error) {\r\n      console.error('ŒëœÄŒøœÑœÖœáŒØŒ± œÉœçŒΩŒ¥ŒµœÉŒ∑œÇ:', error);\r\n      this.isConnected = false;\r\n      this.onConnectionStatusChanged?.(false);\r\n      throw new Error('ŒëœÄŒøœÑœÖœáŒØŒ± œÉœçŒΩŒ¥ŒµœÉŒ∑œÇ ŒºŒµ œÑŒ∑ œÉœÖœÉŒ∫ŒµœÖŒÆ: ' + error.message);\r\n    }\r\n  }\r\n\r\n  async findWritableService() {\r\n    try {\r\n      const services = await this.server.getPrimaryServices();\r\n      console.log(`ŒíœÅŒ≠Œ∏Œ∑Œ∫Œ±ŒΩ ${services.length} œÖœÄŒ∑œÅŒµœÉŒØŒµœÇ`);\r\n\r\n      for (const service of services) {\r\n        try {\r\n          const characteristics = await service.getCharacteristics();\r\n          \r\n          for (const characteristic of characteristics) {\r\n            if (characteristic.properties.write || \r\n                characteristic.properties.writeWithoutResponse ||\r\n                characteristic.properties.notify) {\r\n              \r\n              console.log('ŒíœÅŒ≠Œ∏Œ∑Œ∫Œµ ŒµŒ≥Œ≥œÅŒ¨œàŒπŒºŒ∑ œáŒ±œÅŒ±Œ∫œÑŒ∑œÅŒπœÉœÑŒπŒ∫ŒÆ:', characteristic.uuid);\r\n              this.service = service;\r\n              this.characteristic = characteristic;\r\n              \r\n              if (characteristic.properties.notify) {\r\n                try {\r\n                  await characteristic.startNotifications();\r\n                  characteristic.addEventListener('characteristicvaluechanged', \r\n                    this.handleNotification.bind(this));\r\n                  console.log('ŒüŒπ ŒµŒπŒ¥ŒøœÄŒøŒπŒÆœÉŒµŒπœÇ ŒæŒµŒ∫ŒØŒΩŒ∑œÉŒ±ŒΩ');\r\n                } catch (notifyError) {\r\n                  console.warn('ŒîŒµŒΩ ŒºœÄœåœÅŒµœÉŒ±ŒΩ ŒΩŒ± ŒæŒµŒ∫ŒπŒΩŒÆœÉŒøœÖŒΩ ŒøŒπ ŒµŒπŒ¥ŒøœÄŒøŒπŒÆœÉŒµŒπœÇ:', notifyError);\r\n                }\r\n              }\r\n              \r\n              return;\r\n            }\r\n          }\r\n        } catch (charError) {\r\n          console.warn('ŒîŒµŒΩ ŒºœÄœåœÅŒµœÉŒ±ŒΩ ŒΩŒ± ŒªŒ∑œÜŒ∏ŒøœçŒΩ ŒøŒπ œáŒ±œÅŒ±Œ∫œÑŒ∑œÅŒπœÉœÑŒπŒ∫Œ≠œÇ:', charError);\r\n        }\r\n      }\r\n      \r\n      if (services.length > 0) {\r\n        this.service = services[0];\r\n        console.log('ŒßœÅŒÆœÉŒ∑ œÄœÅœéœÑŒ∑œÇ Œ¥ŒπŒ±Œ∏Œ≠œÉŒπŒºŒ∑œÇ œÖœÄŒ∑œÅŒµœÉŒØŒ±œÇ');\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.warn('ŒîŒµŒΩ Œ≤œÅŒ≠Œ∏Œ∑Œ∫Œµ Œ≤Œ≠ŒªœÑŒπœÉœÑŒ∑ œÖœÄŒ∑œÅŒµœÉŒØŒ±, œáœÅŒÆœÉŒ∑ ŒµŒΩŒ±ŒªŒªŒ±Œ∫œÑŒπŒ∫ŒÆœÇ ŒºŒµŒ∏œåŒ¥ŒøœÖ');\r\n    }\r\n  }\r\n\r\n  async sendMessage(messageText) {\r\n    if (!this.isConnected) {\r\n      throw new Error('ŒîŒµŒΩ ŒµŒØœÉœÑŒµ œÉœÖŒΩŒ¥ŒµŒ¥ŒµŒºŒ≠ŒΩŒøŒπ œÉŒµ œÉœÖœÉŒ∫ŒµœÖŒÆ');\r\n    }\r\n\r\n    try {\r\n      const messageData = {\r\n        type: 'roottly_message',\r\n        text: messageText,\r\n        timestamp: new Date().toLocaleTimeString('el-GR', { hour: '2-digit', minute: '2-digit' }),\r\n        sender: this.currentUser || 'Unknown',\r\n        id: Date.now()\r\n      };\r\n\r\n      // Œ†œÅŒøœÉœÄŒ¨Œ∏ŒµŒπŒ± ŒµŒ≥Œ≥œÅŒ±œÜŒÆœÇ ŒºŒ≠œÉœâ Bluetooth characteristic\r\n      if (this.characteristic && this.characteristic.properties.write) {\r\n        const encoder = new TextEncoder();\r\n        const data = encoder.encode(JSON.stringify(messageData));\r\n        \r\n        // ŒîŒπŒ±ŒØœÅŒµœÉŒ∑ œÉŒµ Œ∫ŒøŒºŒºŒ¨œÑŒπŒ± Œ±ŒΩ ŒµŒØŒΩŒ±Œπ œÄŒøŒªœç ŒºŒµŒ≥Œ¨ŒªŒø (20 bytes ŒµŒØŒΩŒ±Œπ œÑŒø œÑœÖœÄŒπŒ∫œå œåœÅŒπŒø BLE)\r\n        const chunks = this.chunkArray(data, 20);\r\n        \r\n        for (const chunk of chunks) {\r\n          await this.characteristic.writeValue(chunk);\r\n        }\r\n        \r\n        console.log('ŒúŒÆŒΩœÖŒºŒ± œÉœÑŒ¨ŒªŒ∏Œ∑Œ∫Œµ ŒºŒ≠œÉœâ Bluetooth characteristic');\r\n      }\r\n      \r\n      // ŒïŒΩŒ±ŒªŒªŒ±Œ∫œÑŒπŒ∫ŒÆ ŒºŒ≠Œ∏ŒøŒ¥ŒøœÇ Œ≥ŒπŒ± Œ¥ŒøŒ∫ŒπŒºŒÆ/ŒµœÄŒØŒ¥ŒµŒπŒæŒ∑\r\n      this.storeMessageLocally(messageData);\r\n      \r\n      return true;\r\n      \r\n    } catch (error) {\r\n      console.error('ŒëœÄŒøœÑœÖœáŒØŒ± Œ±œÄŒøœÉœÑŒøŒªŒÆœÇ Bluetooth ŒºŒ∑ŒΩœçŒºŒ±œÑŒøœÇ:', error);\r\n      \r\n      // ŒëœÄŒøŒ∏ŒÆŒ∫ŒµœÖœÉŒ∑ œÑŒøœÄŒπŒ∫Œ¨ œâœÇ ŒµŒΩŒ±ŒªŒªŒ±Œ∫œÑŒπŒ∫ŒÆ\r\n      const messageData = {\r\n        type: 'roottly_message',\r\n        text: messageText,\r\n        timestamp: new Date().toLocaleTimeString('el-GR', { hour: '2-digit', minute: '2-digit' }),\r\n        sender: this.currentUser || 'Unknown',\r\n        id: Date.now()\r\n      };\r\n      \r\n      this.storeMessageLocally(messageData);\r\n      console.log('ŒúŒÆŒΩœÖŒºŒ± Œ±œÄŒøŒ∏Œ∑Œ∫ŒµœçœÑŒ∑Œ∫Œµ œÑŒøœÄŒπŒ∫Œ¨ œâœÇ ŒµŒΩŒ±ŒªŒªŒ±Œ∫œÑŒπŒ∫ŒÆ');\r\n      return true;\r\n    }\r\n  }\r\n\r\n  storeMessageLocally(messageData) {\r\n    try {\r\n      const sessionKey = 'roottly_session_' + this.currentUser;\r\n      const messages = JSON.parse(localStorage.getItem(sessionKey) || '[]');\r\n      messages.push(messageData);\r\n      \r\n      if (messages.length > 50) {\r\n        messages.splice(0, messages.length - 50);\r\n      }\r\n      \r\n      localStorage.setItem(sessionKey, JSON.stringify(messages));\r\n      \r\n      window.dispatchEvent(new StorageEvent('storage', {\r\n        key: sessionKey,\r\n        newValue: JSON.stringify(messages)\r\n      }));\r\n      \r\n    } catch (error) {\r\n      console.error('ŒëœÄŒøœÑœÖœáŒØŒ± œÑŒøœÄŒπŒ∫ŒÆœÇ Œ±œÄŒøŒ∏ŒÆŒ∫ŒµœÖœÉŒ∑œÇ ŒºŒ∑ŒΩœçŒºŒ±œÑŒøœÇ:', error);\r\n    }\r\n  }\r\n\r\n  startMessageProcessing() {\r\n    window.addEventListener('storage', this.handleStorageEvent.bind(this));\r\n    \r\n    this.messageInterval = setInterval(() => {\r\n      this.checkForNewMessages();\r\n    }, 1000);\r\n  }\r\n\r\n  handleStorageEvent(event) {\r\n    if (event.key && event.key.startsWith('roottly_session_') && \r\n        !event.key.includes(this.currentUser)) {\r\n      \r\n      try {\r\n        const messages = JSON.parse(event.newValue || '[]');\r\n        const lastMessage = messages[messages.length - 1];\r\n        \r\n        if (lastMessage && lastMessage.sender !== this.currentUser) {\r\n          this.messageCallback?.(lastMessage);\r\n        }\r\n      } catch (error) {\r\n        console.error('Œ£œÜŒ¨ŒªŒºŒ± ŒµœÄŒµŒæŒµœÅŒ≥Œ±œÉŒØŒ±œÇ storage event:', error);\r\n      }\r\n    }\r\n  }\r\n\r\n  checkForNewMessages() {\r\n    try {\r\n      for (let i = 0; i < localStorage.length; i++) {\r\n        const key = localStorage.key(i);\r\n        if (key && key.startsWith('roottly_session_') && !key.includes(this.currentUser)) {\r\n          const messages = JSON.parse(localStorage.getItem(key) || '[]');\r\n          const lastMessage = messages[messages.length - 1];\r\n          \r\n          if (lastMessage && lastMessage.sender !== this.currentUser) {\r\n            const processedKey = 'processed_' + lastMessage.id;\r\n            if (!localStorage.getItem(processedKey)) {\r\n              localStorage.setItem(processedKey, 'true');\r\n              this.messageCallback?.(lastMessage);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Œ£œÜŒ¨ŒªŒºŒ± ŒµŒªŒ≠Œ≥œáŒøœÖ ŒΩŒ≠œâŒΩ ŒºŒ∑ŒΩœÖŒºŒ¨œÑœâŒΩ:', error);\r\n    }\r\n  }\r\n\r\n  handleNotification(event) {\r\n    try {\r\n      const decoder = new TextDecoder();\r\n      const data = decoder.decode(event.target.value);\r\n      \r\n      let messageData;\r\n      try {\r\n        messageData = JSON.parse(data);\r\n      } catch {\r\n        messageData = {\r\n          type: 'roottly_message',\r\n          text: data,\r\n          timestamp: new Date().toLocaleTimeString('el-GR', { hour: '2-digit', minute: '2-digit' }),\r\n          sender: 'ŒëœÄŒøŒºŒ±Œ∫œÅœÖœÉŒºŒ≠ŒΩŒ∑ Œ£œÖœÉŒ∫ŒµœÖŒÆ',\r\n          id: Date.now()\r\n        };\r\n      }\r\n      \r\n      if (messageData.type === 'roottly_message' && messageData.sender !== this.currentUser) {\r\n        this.messageCallback?.(messageData);\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('ŒëœÄŒøœÑœÖœáŒØŒ± œáŒµŒπœÅŒπœÉŒºŒøœç ŒµŒπŒ¥ŒøœÄŒøŒØŒ∑œÉŒ∑œÇ:', error);\r\n    }\r\n  }\r\n\r\n  chunkArray(array, chunkSize) {\r\n    const chunks = [];\r\n    for (let i = 0; i < array.length; i += chunkSize) {\r\n      chunks.push(array.slice(i, i + chunkSize));\r\n    }\r\n    return chunks;\r\n  }\r\n\r\n  onDisconnected() {\r\n    console.log('Œó œÉœÖœÉŒ∫ŒµœÖŒÆ Bluetooth Œ±œÄŒøœÉœÖŒΩŒ¥Œ≠Œ∏Œ∑Œ∫Œµ');\r\n    this.isConnected = false;\r\n    this.device = null;\r\n    this.server = null;\r\n    this.service = null;\r\n    this.characteristic = null;\r\n    \r\n    if (this.messageInterval) {\r\n      clearInterval(this.messageInterval);\r\n      this.messageInterval = null;\r\n    }\r\n    \r\n    this.onConnectionStatusChanged?.(false);\r\n  }\r\n\r\n  async disconnect() {\r\n    try {\r\n      if (this.messageInterval) {\r\n        clearInterval(this.messageInterval);\r\n        this.messageInterval = null;\r\n      }\r\n      \r\n      if (this.server && this.server.connected) {\r\n        await this.server.disconnect();\r\n      }\r\n      \r\n      this.onDisconnected();\r\n      console.log('ŒëœÄŒøœÉœÖŒΩŒ¥Œ≠Œ∏Œ∑Œ∫Œµ ŒµœÄŒπœÑœÖœáœéœÇ');\r\n      \r\n    } catch (error) {\r\n      console.error('Œ£œÜŒ¨ŒªŒºŒ± Œ∫Œ±œÑŒ¨ œÑŒ∑ŒΩ Œ±œÄŒøœÉœçŒΩŒ¥ŒµœÉŒ∑:', error);\r\n      this.onDisconnected();\r\n    }\r\n  }\r\n\r\n  getConnectionStatus() {\r\n    return {\r\n      isConnected: this.isConnected,\r\n      deviceName: this.device?.name || 'ŒÜŒ≥ŒΩœâœÉœÑŒ∑',\r\n      hasNotifications: this.characteristic?.properties?.notify || false\r\n    };\r\n  }\r\n\r\n  async testConnection() {\r\n    try {\r\n      await this.sendMessage('ping_test');\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Œü Œ≠ŒªŒµŒ≥œáŒøœÇ œÉœçŒΩŒ¥ŒµœÉŒ∑œÇ Œ±œÄŒ≠œÑœÖœáŒµ:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  clearStoredMessages() {\r\n    try {\r\n      const keysToRemove = [];\r\n      for (let i = 0; i < localStorage.length; i++) {\r\n        const key = localStorage.key(i);\r\n        if (key && (key.startsWith('roottly_session_') || key.startsWith('processed_'))) {\r\n          keysToRemove.push(key);\r\n        }\r\n      }\r\n      \r\n      keysToRemove.forEach(key => localStorage.removeItem(key));\r\n      console.log('ŒîŒπŒ±Œ≥œÅŒ¨œÜŒ∑Œ∫Œ±ŒΩ œÑŒ± Œ±œÄŒøŒ∏Œ∑Œ∫ŒµœÖŒºŒ≠ŒΩŒ± ŒºŒ∑ŒΩœçŒºŒ±œÑŒ±');\r\n      \r\n    } catch (error) {\r\n      console.error('Œ£œÜŒ¨ŒªŒºŒ± Œ¥ŒπŒ±Œ≥œÅŒ±œÜŒÆœÇ Œ±œÄŒøŒ∏Œ∑Œ∫ŒµœÖŒºŒ≠ŒΩœâŒΩ ŒºŒ∑ŒΩœÖŒºŒ¨œÑœâŒΩ:', error);\r\n    }\r\n  }\r\n}\r\n\r\n// Translations\r\nconst translations = {\r\n  el: {\r\n    welcome: \"ŒöŒ±ŒªœéœÇ ŒÆœÅŒ∏Œ±œÑŒµ\",\r\n    selectRole: \"ŒïœÄŒπŒªŒ≠ŒæœÑŒµ œÄŒøŒπŒøœÇ ŒµŒØœÉœÑŒµ\",\r\n    iAmGrandparent: \"ŒïŒØŒºŒ±Œπ Œ†Œ±œÄœÄŒøœçœÇ/ŒìŒπŒ±Œ≥ŒπŒ¨\",\r\n    iAmChild: \"ŒïŒØŒºŒ±Œπ Œ†Œ±ŒπŒ¥ŒØ/ŒïŒ≥Œ≥œåŒΩŒπ\",\r\n    yourName: \"Œ§Œø œåŒΩŒøŒºŒ± œÉŒ±œÇ\",\r\n    grandparentPhone: \"Œ§Œ∑ŒªŒ≠œÜœâŒΩŒø Œ†Œ±œÄœÄŒøœç / ŒìŒπŒ±Œ≥ŒπŒ¨œÇ\",\r\n    selectDevice: \"Œ§Œπ œÉœÖœÉŒ∫ŒµœÖŒÆ Œ≠œáŒµŒπ Œø œÄŒ±œÄœÄŒøœçœÇ / Œ≥ŒπŒ±Œ≥ŒπŒ¨;\",\r\n    basicPhone: \"ŒëœÄŒªœå œÑŒ∑ŒªŒ≠œÜœâŒΩŒø ŒºŒµ Œ∫ŒøœÖŒºœÄŒπŒ¨\",\r\n    smartphone: \"Smartphone\",\r\n    selectInterests: \"ŒïœÄŒπŒªŒ≠ŒæœÑŒµ œÑŒ± ŒµŒΩŒ¥ŒπŒ±œÜŒ≠œÅŒøŒΩœÑŒ¨ œÉŒ±œÇ\",\r\n    continue: \"Œ£œÖŒΩŒ≠œáŒµŒπŒ±\",\r\n    complete: \"ŒüŒªŒøŒ∫ŒªŒÆœÅœâœÉŒ∑\",\r\n    back: \"Œ†ŒØœÉœâ\",\r\n    language: \"ŒìŒªœéœÉœÉŒ±\",\r\n    textSize: \"ŒúŒ≠Œ≥ŒµŒ∏ŒøœÇ Œ∫ŒµŒπŒºŒ≠ŒΩŒøœÖ\",\r\n    small: \"ŒúŒπŒ∫œÅœå\",\r\n    medium: \"ŒúŒµœÉŒ±ŒØŒø\", \r\n    large: \"ŒúŒµŒ≥Œ¨ŒªŒø\",\r\n    typeMessage: \"Œ†ŒªŒ∑Œ∫œÑœÅŒøŒªŒøŒ≥ŒÆœÉœÑŒµ ŒºŒÆŒΩœÖŒºŒ±...\",\r\n    send: \"ŒëœÄŒøœÉœÑŒøŒªŒÆ\",\r\n    messages: \"ŒúŒ∑ŒΩœçŒºŒ±œÑŒ±\",\r\n    cooking: \"ŒúŒ±Œ≥ŒµŒØœÅŒµŒºŒ±\",\r\n    gardening: \"ŒöŒ∑œÄŒøœÖœÅŒπŒ∫ŒÆ\",\r\n    music: \"ŒúŒøœÖœÉŒπŒ∫ŒÆ\",\r\n    reading: \"ŒîŒπŒ¨Œ≤Œ±œÉŒºŒ±\",\r\n    walking: \"Œ†ŒµœÅœÄŒ¨œÑŒ∑ŒºŒ±\",\r\n    photos: \"Œ¶œâœÑŒøŒ≥œÅŒ±œÜŒØŒµœÇ\",\r\n    games: \"Œ†Œ±ŒπœáŒΩŒØŒ¥ŒπŒ±\",\r\n    crafts: \"ŒßŒµŒπœÅŒøœÑŒµœáŒΩŒØŒµœÇ\",\r\n    movies: \"Œ§Œ±ŒπŒΩŒØŒµœÇ\",\r\n    travel: \"Œ§Œ±ŒæŒØŒ¥ŒπŒ±\"\r\n  },\r\n  en: {\r\n    welcome: \"Welcome\",\r\n    selectRole: \"Select who you are\",\r\n    iAmGrandparent: \"I'm a Grandparent\",\r\n    iAmChild: \"I'm a Child/Grandchild\",\r\n    yourName: \"Your name\",\r\n    grandparentPhone: \"Grandparent's Phone\",\r\n    selectDevice: \"What device does grandparent have?\",\r\n    basicPhone: \"Basic phone with buttons\",\r\n    smartphone: \"Smartphone\",\r\n    selectInterests: \"Select your interests\",\r\n    continue: \"Continue\",\r\n    complete: \"Complete\",\r\n    back: \"Back\",\r\n    language: \"Language\",\r\n    textSize: \"Text Size\",\r\n    small: \"Small\",\r\n    medium: \"Medium\",\r\n    large: \"Large\",\r\n    typeMessage: \"Type a message...\",\r\n    send: \"Send\",\r\n    messages: \"Messages\",\r\n    cooking: \"Cooking\",\r\n    gardening: \"Gardening\",\r\n    music: \"Music\",\r\n    reading: \"Reading\",\r\n    walking: \"Walking\",\r\n    photos: \"Photos\",\r\n    games: \"Games\",\r\n    crafts: \"Crafts\",\r\n    movies: \"Movies\",\r\n    travel: \"Travel\"\r\n  }\r\n};\r\n\r\n// Available interests\r\nconst availableInterests = [\r\n  { id: 'cooking', icon: 'üë®‚Äçüç≥' },\r\n  { id: 'gardening', icon: 'üå±' },\r\n  { id: 'music', icon: 'üéµ' },\r\n  { id: 'reading', icon: 'üìö' },\r\n  { id: 'walking', icon: 'üö∂' },\r\n  { id: 'photos', icon: 'üì∑' },\r\n  { id: 'games', icon: 'üé≤' },\r\n  { id: 'crafts', icon: 'üé®' },\r\n  { id: 'movies', icon: 'üé¨' },\r\n  { id: 'travel', icon: '‚úàÔ∏è' }\r\n];\r\n\r\nexport default function App() {\r\n  // Core state\r\n  const [currentView, setCurrentView] = useState('splash');\r\n  const [language, setLanguage] = useState('el');\r\n  const [textSize, setTextSize] = useState('medium');\r\n  const [onboardingStep, setOnboardingStep] = useState(1);\r\n  \r\n  // User data\r\n  const [userRole, setUserRole] = useState('');\r\n  const [userName, setUserName] = useState('');\r\n  const [grandparentName, setGrandparentName] = useState('');\r\n  const [grandparentPhone, setGrandparentPhone] = useState('');\r\n  const [grandparentDevice, setGrandparentDevice] = useState('');\r\n  const [userInterests, setUserInterests] = useState([]);\r\n  const [grandparentInterests, setGrandparentInterests] = useState([]);\r\n  \r\n  // App data\r\n  const [messages, setMessages] = useState([]);\r\n  const [messageInput, setMessageInput] = useState('');\r\n  const [showVideoCall, setShowVideoCall] = useState(false);\r\n  const [gameScore, setGameScore] = useState(150);\r\n  const [completedLessons, setCompletedLessons] = useState([]);\r\n  const [selectedAvatar, setSelectedAvatar] = useState('elder_man');\r\n  const [selectedAccessories, setSelectedAccessories] = useState([]);\r\n  const [unlockedFeatures, setUnlockedFeatures] = useState([]);\r\n  const [claimedRewards, setClaimedRewards] = useState([]);\r\n  \r\n  // Real Bluetooth connection state\r\n  const [isConnected, setIsConnected] = useState(false);\r\n  const [showConnection, setShowConnection] = useState(false);\r\n  const [pairedDevice, setPairedDevice] = useState(null);\r\n  const [isConnecting, setIsConnecting] = useState(false);\r\n\r\n  // Initialize Bluetooth service\r\n  const bluetoothServiceRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    // Initialize Bluetooth service\r\n    bluetoothServiceRef.current = new BluetoothService();\r\n    \r\n    // Set up callbacks\r\n    bluetoothServiceRef.current.setMessageReceivedCallback((messageData) => {\r\n      const newMessage = {\r\n        id: messageData.id,\r\n        text: messageData.text,\r\n        type: 'received',\r\n        timestamp: messageData.timestamp,\r\n        status: 'received',\r\n        sender: messageData.sender\r\n      };\r\n      setMessages(prev => [...prev, newMessage]);\r\n    });\r\n\r\n    bluetoothServiceRef.current.setConnectionStatusCallback((connected) => {\r\n      setIsConnected(connected);\r\n      if (connected) {\r\n        setPairedDevice(userRole === 'grandparent' ? 'ŒïŒ≥Œ≥œåŒΩŒπ' : 'Œ†Œ±œÄœÄŒøœçœÇ');\r\n        setShowConnection(false);\r\n        showSuccessMessage('Œ£œÖŒΩŒ¥Œ≠Œ∏Œ∑Œ∫Œµ ŒµœÄŒπœÑœÖœáœéœÇ!', 'üì±');\r\n        bluetoothServiceRef.current.startMessageProcessing();\r\n      } else {\r\n        setPairedDevice(null);\r\n      }\r\n      setIsConnecting(false);\r\n    });\r\n\r\n    // Set current user for message filtering\r\n    if (userName) {\r\n      bluetoothServiceRef.current.setCurrentUser(userName);\r\n    }\r\n  }, [userRole, userName]);\r\n\r\n  const t = translations[language];\r\n\r\n  // Text size classes\r\n  const textSizeClasses = {\r\n    small: 'text-lg',\r\n    medium: 'text-xl',\r\n    large: 'text-2xl'\r\n  };\r\n  \r\n  const buttonSizeClasses = {\r\n    small: 'p-4 text-lg',\r\n    medium: 'p-6 text-xl',\r\n    large: 'p-8 text-2xl'\r\n  };\r\n  \r\n  // Helper functions\r\n  const toggleInterest = (interest, isGrandparent = false) => {\r\n    if (isGrandparent) {\r\n      setGrandparentInterests(prev =>\r\n        prev.includes(interest)\r\n          ? prev.filter(i => i !== interest)\r\n          : [...prev, interest]\r\n      );\r\n    } else {\r\n      setUserInterests(prev =>\r\n        prev.includes(interest)\r\n          ? prev.filter(i => i !== interest)\r\n          : [...prev, interest]\r\n      );\r\n    }\r\n  };\r\n\r\n  const completeLesson = (lessonId) => {\r\n    if (!completedLessons.includes(lessonId)) {\r\n      setCompletedLessons(prev => [...prev, lessonId]);\r\n      setGameScore(prev => prev + 25);\r\n    }\r\n  };\r\n\r\n  // Real Bluetooth connection functions\r\n  const startBluetoothConnection = async () => {\r\n    if (!bluetoothServiceRef.current?.isBluetoothSupported()) {\r\n      showSuccessMessage('Œ§Œø Bluetooth Œ¥ŒµŒΩ œÖœÄŒøœÉœÑŒ∑œÅŒØŒ∂ŒµœÑŒ±Œπ œÉŒµ Œ±œÖœÑŒÆ œÑŒ∑ œÉœÖœÉŒ∫ŒµœÖŒÆ', '‚ùå');\r\n      return;\r\n    }\r\n\r\n    setIsConnecting(true);\r\n    setShowConnection(true);\r\n\r\n    try {\r\n      await bluetoothServiceRef.current.requestAndConnect();\r\n    } catch (error) {\r\n      console.error('Bluetooth connection failed:', error);\r\n      setIsConnecting(false);\r\n      setShowConnection(false);\r\n      showSuccessMessage('ŒëœÄŒøœÑœÖœáŒØŒ± œÉœçŒΩŒ¥ŒµœÉŒ∑œÇ Bluetooth: ' + error.message, '‚ùå');\r\n    }\r\n  };\r\n\r\n  // Send real Bluetooth message\r\n  const sendBluetoothMessage = async (messageText) => {\r\n    if (!bluetoothServiceRef.current) {\r\n      console.error('Bluetooth service not available');\r\n      return false;\r\n    }\r\n\r\n    try {\r\n      const messageData = {\r\n        id: Date.now(),\r\n        text: messageText,\r\n        timestamp: new Date().toLocaleTimeString('el-GR', { hour: '2-digit', minute: '2-digit' }),\r\n        sender: userName || (userRole === 'grandparent' ? 'Œ†Œ±œÄœÄŒøœçœÇ/ŒìŒπŒ±Œ≥ŒπŒ¨' : 'Œ†Œ±ŒπŒ¥ŒØ')\r\n      };\r\n\r\n      if (isConnected) {\r\n        await bluetoothServiceRef.current.sendMessage(messageText);\r\n      }\r\n      \r\n      // Add to local messages as sent\r\n      const sentMessage = {\r\n        ...messageData,\r\n        type: 'sent',\r\n        status: 'sent'\r\n      };\r\n      setMessages(prev => [...prev, sentMessage]);\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('Failed to send Bluetooth message:', error);\r\n      showSuccessMessage('ŒëœÄŒøœÑœÖœáŒØŒ± Œ±œÄŒøœÉœÑŒøŒªŒÆœÇ ŒºŒ∑ŒΩœçŒºŒ±œÑŒøœÇ: ' + error.message, '‚ùå');\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const showSuccessMessage = (message, icon) => {\r\n    const successDiv = document.createElement('div');\r\n    successDiv.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-green-600 text-white p-8 rounded-3xl shadow-2xl z-50 text-center max-w-lg border-4 border-white';\r\n    successDiv.innerHTML = `\r\n      <div class=\"text-6xl mb-4\">${icon}</div>\r\n      <p class=\"text-2xl font-bold mb-6\">${message}</p>\r\n      <button onclick=\"this.parentElement.remove()\" class=\"bg-white text-green-600 px-8 py-4 rounded-2xl font-bold hover:bg-gray-100 text-xl\">\r\n        Œ•œÄŒ≠œÅŒøœáŒ±!\r\n      </button>\r\n    `;\r\n    document.body.appendChild(successDiv);\r\n    setTimeout(() => successDiv.remove(), 8000);\r\n  };\r\n\r\n  // Auto-advance splash screen\r\n  useEffect(() => {\r\n    if (currentView === 'splash') {\r\n      const timer = setTimeout(() => {\r\n        setCurrentView('onboarding');\r\n      }, 3000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [currentView]);\r\n\r\n  // Show splash screen\r\n  if (currentView === 'splash') {\r\n    return <SplashScreen setCurrentView={setCurrentView} />;\r\n  }\r\n\r\n  // Show connection screen\r\n  if (showConnection) {\r\n    return (\r\n      <ConnectionScreen \r\n        userRole={userRole}\r\n        setShowConnection={setShowConnection}\r\n        setIsConnected={setIsConnected}\r\n        setPairedDevice={setPairedDevice}\r\n        showSuccessMessage={showSuccessMessage}\r\n        bluetoothService={bluetoothServiceRef.current}\r\n        isConnecting={isConnecting}\r\n      />\r\n    );\r\n  }\r\n\r\n  // Show video call overlay\r\n  if (showVideoCall) {\r\n    return (\r\n      <VideoCall \r\n        contactName={userRole === 'child' ? grandparentName : userName} \r\n        onEndCall={() => setShowVideoCall(false)}\r\n        language={language}\r\n        textSizeClasses={textSizeClasses}\r\n        textSize={textSize}\r\n      />\r\n    );\r\n  }\r\n  \r\n  // Main render switch\r\n  switch (currentView) {\r\n    case 'onboarding':\r\n      return (\r\n        <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 p-4\">\r\n          <div className=\"max-w-md mx-auto\">\r\n            <div className=\"bg-white rounded-3xl shadow-2xl p-8\">\r\n              {/* Header with logo */}\r\n              <div className=\"text-center mb-8\">\r\n                <div className=\"w-20 h-16 mx-auto mb-4\">\r\n                  <div className=\"relative w-full h-full\">\r\n                    {/* Mini œÄŒ±œÄœÄŒøœçœÇ */}\r\n                    <div className=\"absolute left-0 top-0 w-8 h-12\">\r\n                      <div className=\"w-6 h-6 bg-blue-500 rounded-full relative\">\r\n                        <div className=\"absolute top-1 left-0 w-2 h-2 border border-gray-800 rounded-full bg-white\"></div>\r\n                        <div className=\"absolute top-1 right-0 w-2 h-2 border border-gray-800 rounded-full bg-white\"></div>\r\n                        <div className=\"absolute top-3 left-1 w-4 h-1 border-b border-gray-800 rounded-full\"></div>\r\n                      </div>\r\n                      <div className=\"w-5 h-6 bg-blue-400 rounded-b-2xl mx-0.5\"></div>\r\n                    </div>\r\n                    \r\n                    {/* Mini ŒµŒ≥Œ≥œåŒΩŒπ */}\r\n                    <div className=\"absolute right-0 top-0 w-8 h-12\">\r\n                      <div className=\"w-6 h-6 bg-orange-500 rounded-full relative\">\r\n                        <div className=\"absolute -top-1 left-1 w-4 h-2 bg-orange-600 rounded-t-full\"></div>\r\n                        <div className=\"absolute top-1 left-1 w-1 h-1 bg-gray-800 rounded-full\"></div>\r\n                        <div className=\"absolute top-1 right-1 w-1 h-1 bg-gray-800 rounded-full\"></div>\r\n                        <div className=\"absolute top-3 left-1 w-4 h-1 border-b border-gray-800 rounded-full\"></div>\r\n                      </div>\r\n                      <div className=\"w-5 h-6 bg-orange-400 rounded-b-2xl mx-0.5\"></div>\r\n                    </div>\r\n                    \r\n                    {/* Œ£œçŒΩŒ¥ŒµœÉŒ∑ */}\r\n                    <div className=\"absolute top-3 left-6 right-6 h-1\">\r\n                      <div className=\"w-full h-full bg-gradient-to-r from-blue-400 to-orange-400 rounded-full\"></div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"text-2xl font-bold\">\r\n                  <span className=\"text-blue-600\">Root</span><span className=\"text-orange-600\">tly</span>\r\n                </div>\r\n              </div>\r\n\r\n              {onboardingStep === 1 && (\r\n                <div className=\"space-y-6\">\r\n                  <h1 className=\"text-2xl font-bold text-center mb-2\">{t.welcome}</h1>\r\n                  <p className=\"text-center text-gray-600 mb-8\">{t.selectRole}</p>\r\n                  \r\n                  <div className=\"space-y-4\">\r\n                    <button\r\n                      onClick={() => {\r\n                        setUserRole('grandparent');\r\n                        setOnboardingStep(2);\r\n                      }}\r\n                      className=\"w-full p-6 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-2xl hover:shadow-lg transition-all text-xl font-bold\"\r\n                    >\r\n                      <Users className=\"inline mr-3 w-8 h-8\" />\r\n                      {t.iAmGrandparent}\r\n                    </button>\r\n                    \r\n                    <button\r\n                      onClick={() => {\r\n                        setUserRole('child');\r\n                        setOnboardingStep(2);\r\n                      }}\r\n                      className=\"w-full p-6 bg-gradient-to-r from-blue-500 to-green-500 text-white rounded-2xl hover:shadow-lg transition-all text-xl font-bold\"\r\n                    >\r\n                      <Heart className=\"inline mr-3 w-8 h-8\" />\r\n                      {t.iAmChild}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {onboardingStep === 2 && (\r\n                <div className=\"space-y-6\">\r\n                  <button\r\n                    onClick={() => setOnboardingStep(1)}\r\n                    className=\"flex items-center text-gray-600 hover:text-gray-800\"\r\n                  >\r\n                    <ChevronLeft className=\"w-5 h-5\" />\r\n                    {t.back}\r\n                  </button>\r\n                  \r\n                  <h2 className=\"text-xl font-bold text-center\">{t.yourName}</h2>\r\n                  \r\n                  <input\r\n                    type=\"text\"\r\n                    value={userName}\r\n                    onChange={(e) => setUserName(e.target.value)}\r\n                    placeholder={t.yourName}\r\n                    className=\"w-full p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none text-lg\"\r\n                  />\r\n                  \r\n                  {userRole === 'child' && (\r\n                    <>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={grandparentName}\r\n                        onChange={(e) => setGrandparentName(e.target.value)}\r\n                        placeholder=\"ŒåŒΩŒøŒºŒ± Œ†Œ±œÄœÄŒøœç/ŒìŒπŒ±Œ≥ŒπŒ¨œÇ\"\r\n                        className=\"w-full p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none text-lg\"\r\n                      />\r\n                      \r\n                      <input\r\n                        type=\"tel\"\r\n                        value={grandparentPhone}\r\n                        onChange={(e) => setGrandparentPhone(e.target.value)}\r\n                        placeholder={t.grandparentPhone}\r\n                        className=\"w-full p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none text-lg\"\r\n                      />\r\n                    </>\r\n                  )}\r\n                  \r\n                  <button\r\n                    onClick={() => setOnboardingStep(userRole === 'child' ? 3 : 4)}\r\n                    disabled={!userName || (userRole === 'child' && (!grandparentName || !grandparentPhone))}\r\n                    className=\"w-full p-4 bg-blue-500 text-white rounded-xl hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-lg font-bold\"\r\n                  >\r\n                    {t.continue}\r\n                  </button>\r\n                </div>\r\n              )}\r\n\r\n              {onboardingStep === 3 && userRole === 'child' && (\r\n                <div className=\"space-y-6\">\r\n                  <button\r\n                    onClick={() => setOnboardingStep(2)}\r\n                    className=\"flex items-center text-gray-600 hover:text-gray-800\"\r\n                  >\r\n                    <ChevronLeft className=\"w-5 h-5\" />\r\n                    {t.back}\r\n                  </button>\r\n                  \r\n                  <h2 className=\"text-xl font-bold text-center\">{t.selectDevice}</h2>\r\n                  \r\n                  <div className=\"space-y-4\">\r\n                    <button\r\n                      onClick={() => {\r\n                        setGrandparentDevice('basic');\r\n                        setOnboardingStep(4);\r\n                      }}\r\n                      className=\"w-full p-6 bg-gray-500 text-white rounded-xl hover:bg-gray-600 transition-colors text-lg font-bold\"\r\n                    >\r\n                      <Phone className=\"inline mr-3 w-6 h-6\" />\r\n                      {t.basicPhone}\r\n                    </button>\r\n                    \r\n                    <button\r\n                      onClick={() => {\r\n                        setGrandparentDevice('smartphone');\r\n                        setOnboardingStep(4);\r\n                      }}\r\n                      className=\"w-full p-6 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-colors text-lg font-bold\"\r\n                    >\r\n                      <Video className=\"inline mr-3 w-6 h-6\" />\r\n                      {t.smartphone}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {onboardingStep === 4 && (\r\n                <div className=\"space-y-6\">\r\n                  <button\r\n                    onClick={() => setOnboardingStep(userRole === 'child' ? 3 : 2)}\r\n                    className=\"flex items-center text-gray-600 hover:text-gray-800\"\r\n                  >\r\n                    <ChevronLeft className=\"w-5 h-5\" />\r\n                    {t.back}\r\n                  </button>\r\n                  \r\n                  <h2 className=\"text-xl font-bold text-center\">{t.selectInterests}</h2>\r\n                  \r\n                  <div className=\"grid grid-cols-3 gap-3\">\r\n                    {availableInterests.map(interest => (\r\n                      <button\r\n                        key={interest.id}\r\n                        onClick={() => toggleInterest(interest.id)}\r\n                        className={`p-4 rounded-xl border-2 transition-all ${\r\n                          userInterests.includes(interest.id)\r\n                            ? 'bg-blue-500 text-white border-blue-500'\r\n                            : 'bg-white border-gray-300 hover:border-blue-300'\r\n                        }`}\r\n                      >\r\n                        <div className=\"text-2xl mb-1\">{interest.icon}</div>\r\n                        <div className=\"text-xs\">{t[interest.id]}</div>\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                  \r\n                  {userRole === 'child' && (\r\n                    <>\r\n                      <p className=\"text-center text-gray-600 font-semibold\">\r\n                        {grandparentName} - {t.selectInterests}\r\n                      </p>\r\n                      \r\n                      <div className=\"grid grid-cols-3 gap-3\">\r\n                        {availableInterests.map(interest => (\r\n                          <button\r\n                            key={interest.id}\r\n                            onClick={() => toggleInterest(interest.id, true)}\r\n                            className={`p-4 rounded-xl border-2 transition-all ${\r\n                              grandparentInterests.includes(interest.id)\r\n                                ? 'bg-orange-500 text-white border-orange-500'\r\n                                : 'bg-white border-gray-300 hover:border-orange-300'\r\n                            }`}\r\n                          >\r\n                            <div className=\"text-2xl mb-1\">{interest.icon}</div>\r\n                            <div className=\"text-xs\">{t[interest.id]}</div>\r\n                          </button>\r\n                        ))}\r\n                      </div>\r\n                    </>\r\n                  )}\r\n                  \r\n                  <button\r\n                    onClick={() => setCurrentView(userRole === 'grandparent' ? 'grandparentHome' : 'childHome')}\r\n                    disabled={userInterests.length === 0}\r\n                    className=\"w-full p-4 bg-green-500 text-white rounded-xl hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-lg font-bold\"\r\n                  >\r\n                    <Check className=\"inline mr-2 w-5 h-5\" />\r\n                    {t.complete}\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n      \r\n    case 'grandparentHome':\r\n      return (\r\n        <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50\">\r\n          <header className=\"bg-gradient-to-r from-blue-500 to-orange-500 text-white p-8 shadow-2xl\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <h1 className=\"text-3xl font-bold mb-2\">üåü ŒöŒ±ŒªœéœÇ ŒÆœÅŒ∏Œ±œÑŒµ, {userName}!</h1>\r\n                <div className=\"flex items-center gap-6 mt-4\">\r\n                  <div className=\"flex items-center gap-3 bg-white bg-opacity-25 rounded-3xl px-6 py-3\">\r\n                    <Trophy className=\"w-8 h-8 text-yellow-300\" />\r\n                    <span className=\"text-yellow-300 font-bold text-2xl\">{gameScore} œÄœåŒΩœÑŒøŒπ</span>\r\n                  </div>\r\n                  {isConnected && (\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <div className=\"w-4 h-4 bg-green-400 rounded-full animate-pulse\"></div>\r\n                      <span className=\"text-green-300 font-semibold\">Œ£œÖŒΩŒ¥ŒµŒ¥ŒµŒºŒ≠ŒΩŒøœÇ ŒºŒµ {pairedDevice}</span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <button\r\n                onClick={() => setCurrentView('avatarSelection')}\r\n                className=\"text-8xl hover:scale-110 transition-transform cursor-pointer bg-white bg-opacity-20 rounded-3xl p-4 hover:bg-opacity-30\"\r\n                title=\"ŒëŒªŒªŒ¨ŒæœÑŒµ œÑŒø Avatar œÉŒ±œÇ\"\r\n              >\r\n                {(() => {\r\n                  const avatar = {\r\n                    'elder_man': 'üë®‚Äçü¶≥',\r\n                    'elder_woman': 'üëµ',\r\n                    'young_man': 'üë¶',\r\n                    'young_woman': 'üëß',\r\n                    'happy_elder': 'üòä',\r\n                    'cool_elder': 'üòé',\r\n                    'wise_elder': 'üßô‚Äç‚ôÇÔ∏è',\r\n                    'tech_elder': 'ü§ì',\r\n                    'chef_elder': 'üë®‚Äçüç≥',\r\n                    'artist_elder': 'üé®',\r\n                    'superhero': 'ü¶∏‚Äç‚ôÇÔ∏è',\r\n                    'princess': 'üë∏',\r\n                    'ninja_elder': 'ü•∑',\r\n                    'mermaid_elder': 'üßú‚Äç‚ôÄÔ∏è'\r\n                  }[selectedAvatar] || 'üë®‚Äçü¶≥';\r\n                  \r\n                  const accessories = selectedAccessories.map(id => {\r\n                    const accessoryMap = {\r\n                      'hat_basic': 'üß¢',\r\n                      'hat_formal': 'üé©',\r\n                      'crown': 'üëë',\r\n                      'glasses': 'üëì',\r\n                      'sunglasses': 'üï∂Ô∏è',\r\n                      'bow_tie': 'üéÄ',\r\n                      'flower': 'üå∏',\r\n                      'medal': 'üèÖ',\r\n                      'star': '‚≠ê',\r\n                      'heart': 'üíñ',\r\n                      'rainbow': 'üåà',\r\n                      'lightning': '‚ö°',\r\n                      'diamond': 'üíé',\r\n                      'fire': 'üî•'\r\n                    };\r\n                    return accessoryMap[id] || '';\r\n                  }).join('');\r\n                  \r\n                  return avatar + accessories;\r\n                })()}\r\n              </button>\r\n            </div>\r\n          </header>\r\n          \r\n          <main className=\"p-8 pb-32\">\r\n            <div className=\"grid grid-cols-2 gap-8 max-w-5xl mx-auto\">\r\n              <button\r\n                onClick={() => setCurrentView('messages')}\r\n                className=\"p-10 bg-gradient-to-br from-blue-400 to-blue-600 text-white rounded-3xl shadow-2xl hover:shadow-3xl transition-all transform hover:scale-105 border-4 border-white\"\r\n              >\r\n                <MessageSquare className=\"w-24 h-24 mx-auto mb-6\" />\r\n                <div className=\"text-4xl font-bold\">üí¨ ŒúŒ∑ŒΩœçŒºŒ±œÑŒ±</div>\r\n              </button>\r\n              \r\n              <button\r\n                onClick={() => setShowVideoCall(true)}\r\n                className=\"p-10 bg-gradient-to-br from-green-400 to-green-600 text-white rounded-3xl shadow-2xl hover:shadow-3xl transition-all transform hover:scale-105 border-4 border-white\"\r\n              >\r\n                <Video className=\"w-24 h-24 mx-auto mb-6\" />\r\n                <div className=\"text-4xl font-bold\">üìπ ŒíŒπŒΩœÑŒµŒøŒ∫ŒªŒÆœÉŒ∑</div>\r\n              </button>\r\n              \r\n              <button\r\n                onClick={() => setCurrentView('activityWheel')}\r\n                className=\"p-10 bg-gradient-to-br from-purple-400 to-purple-600 text-white rounded-3xl shadow-2xl hover:shadow-3xl transition-all transform hover:scale-105 border-4 border-white\"\r\n              >\r\n                <Sparkles className=\"w-24 h-24 mx-auto mb-6\" />\r\n                <div className=\"text-4xl font-bold\">üé° ŒîœÅŒ±œÉœÑŒ∑œÅŒπœåœÑŒ∑œÑŒµœÇ</div>\r\n              </button>\r\n              \r\n              <button\r\n                onClick={() => setCurrentView('lessons')}\r\n                className=\"p-10 bg-gradient-to-br from-orange-400 to-orange-600 text-white rounded-3xl shadow-2xl hover:shadow-3xl transition-all transform hover:scale-105 border-4 border-white relative\"\r\n              >\r\n                <Book className=\"w-24 h-24 mx-auto mb-6\" />\r\n                <div className=\"text-4xl font-bold\">üìö ŒúŒ±Œ∏ŒÆŒºŒ±œÑŒ±</div>\r\n                {completedLessons.length > 0 && (\r\n                  <div className=\"absolute -top-4 -right-4 bg-yellow-400 text-yellow-900 px-6 py-3 rounded-full text-2xl font-bold border-4 border-white shadow-lg\">\r\n                    {completedLessons.length}/5 ‚úì\r\n                  </div>\r\n                )}\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 gap-8 max-w-5xl mx-auto mt-8\">\r\n              <button\r\n                onClick={() => setCurrentView('rewardsCenter')}\r\n                className=\"p-10 bg-gradient-to-br from-yellow-400 to-yellow-600 text-white rounded-3xl shadow-2xl hover:shadow-3xl transition-all transform hover:scale-105 border-4 border-white\"\r\n              >\r\n                <Gift className=\"w-24 h-24 mx-auto mb-6\" />\r\n                <div className=\"text-4xl font-bold\">üéÅ ŒëŒΩœÑŒ±ŒºŒøŒπŒ≤Œ≠œÇ</div>\r\n              </button>\r\n\r\n              <button\r\n                onClick={() => setCurrentView('settings')}\r\n                className=\"p-10 bg-gradient-to-br from-gray-400 to-gray-600 text-white rounded-3xl shadow-2xl hover:shadow-3xl transition-all transform hover:scale-105 border-4 border-white\"\r\n              >\r\n                <SettingsIcon className=\"w-24 h-24 mx-auto mb-6\" />\r\n                <div className=\"text-4xl font-bold\">‚öôÔ∏è Œ°œÖŒ∏ŒºŒØœÉŒµŒπœÇ</div>\r\n              </button>\r\n            </div>\r\n\r\n            {!isConnected && (\r\n              <div className=\"mt-16 max-w-5xl mx-auto\">\r\n                <div className=\"bg-gradient-to-r from-blue-100 to-green-100 border-4 border-blue-300 rounded-3xl p-10\">\r\n                  <div className=\"text-center\">\r\n                    <Bluetooth className=\"w-16 h-16 mx-auto mb-6 text-blue-600\" />\r\n                    <h3 className=\"text-3xl font-bold mb-4 text-blue-800\">Œ£œÖŒΩŒ¥Œ≠œÉœÑŒµ ŒºŒµ œÑŒ∑ŒΩ ŒøŒπŒ∫ŒøŒ≥Œ≠ŒΩŒµŒπŒ±</h3>\r\n                    <p className=\"text-blue-700 mb-8 text-xl\">Œ£œÖŒΩŒ¥Œ≠œÉœÑŒµ œÑŒ∑ œÉœÖœÉŒ∫ŒµœÖŒÆ œÉŒ±œÇ ŒºŒµ œÑŒø œÄŒ±ŒπŒ¥ŒØ/ŒµŒ≥Œ≥œåŒΩŒπ Œ≥ŒπŒ± œÄœÅŒ±Œ≥ŒºŒ±œÑŒπŒ∫ŒÆ ŒµœÄŒπŒ∫ŒøŒπŒΩœâŒΩŒØŒ±</p>\r\n                    <button\r\n                      onClick={startBluetoothConnection}\r\n                      className=\"bg-blue-500 text-white px-10 py-6 rounded-3xl font-bold hover:bg-blue-600 transition-colors text-2xl shadow-xl\"\r\n                      disabled={isConnecting}\r\n                    >\r\n                      <UserPlus className=\"inline mr-3 w-8 h-8\" />\r\n                      {isConnecting ? 'Œ£œÖŒΩŒ¥Œ≠ŒµœÑŒ±Œπ...' : 'ŒûŒµŒ∫ŒØŒΩŒ± Œ£œçŒΩŒ¥ŒµœÉŒ∑ Bluetooth'}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </main>\r\n          \r\n          <nav className=\"fixed bottom-0 left-0 right-0 bg-white border-t-4 border-blue-200 px-8 py-6 shadow-2xl\">\r\n            <div className=\"flex justify-center\">\r\n              <button className=\"bg-blue-500 text-white p-8 rounded-full shadow-lg text-3xl\">\r\n                <Home className=\"w-16 h-16\" />\r\n              </button>\r\n            </div>\r\n          </nav>\r\n        </div>\r\n      );\r\n      \r\n    case 'childHome':\r\n      return (\r\n        <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-green-50\">\r\n          <header className=\"bg-gradient-to-r from-blue-500 to-green-500 text-white p-8 shadow-xl\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <h1 className=\"text-3xl font-bold mb-2\">ŒöŒ±ŒªœéœÇ ŒÆœÅŒ∏Œ±œÑŒµ, {userName}! üëã</h1>\r\n                <p className=\"text-xl mt-2\">üì± {grandparentName} - {grandparentDevice === 'basic' ? 'ŒëœÄŒªœå œÑŒ∑ŒªŒ≠œÜœâŒΩŒø' : 'Smartphone'}</p>\r\n                {isConnected && (\r\n                  <div className=\"flex items-center gap-2 mt-2\">\r\n                    <div className=\"w-4 h-4 bg-green-400 rounded-full animate-pulse\"></div>\r\n                    <span className=\"text-green-300 font-semibold\">Œ£œÖŒΩŒ¥ŒµŒ¥ŒµŒºŒ≠ŒΩŒøœÇ ŒºŒµ {pairedDevice}</span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </header>\r\n          \r\n          <main className=\"p-6 pb-28\">\r\n            <div className=\"grid grid-cols-2 gap-6 max-w-3xl mx-auto\">\r\n              <button\r\n                onClick={() => setCurrentView('messages')}\r\n                className=\"p-8 bg-gradient-to-r from-blue-400 to-blue-600 text-white rounded-3xl shadow-xl hover:shadow-2xl transition-all transform hover:scale-105 border-4 border-white\"\r\n              >\r\n                {grandparentDevice === 'basic' ? <Mail className=\"w-16 h-16 mx-auto mb-4\" /> : <MessageSquare className=\"w-16 h-16 mx-auto mb-4\" />}\r\n                <div className=\"text-2xl font-bold\">{grandparentDevice === 'basic' ? 'SMS' : 'ŒúŒ∑ŒΩœçŒºŒ±œÑŒ±'}</div>\r\n              </button>\r\n              \r\n              <button\r\n                onClick={() => setCurrentView('socialShare')}\r\n                className=\"p-8 bg-gradient-to-r from-purple-400 to-purple-600 text-white rounded-3xl shadow-xl hover:shadow-2xl transition-all transform hover:scale-105 border-4 border-white\"\r\n              >\r\n                <Share2 className=\"w-16 h-16 mx-auto mb-4\" />\r\n                <div className=\"text-2xl font-bold\">ŒöŒøŒπŒΩŒøœÄŒøŒØŒ∑œÉŒ∑</div>\r\n              </button>\r\n              \r\n              {grandparentDevice === 'smartphone' && (\r\n                <>\r\n                  <button\r\n                    onClick={() => setShowVideoCall(true)}\r\n                    className=\"p-8 bg-gradient-to-r from-green-400 to-green-600 text-white rounded-3xl shadow-xl hover:shadow-2xl transition-all transform hover:scale-105 border-4 border-white\"\r\n                  >\r\n                    <Video className=\"w-16 h-16 mx-auto mb-4\" />\r\n                    <div className=\"text-2xl font-bold\">ŒíŒπŒΩœÑŒµŒøŒ∫ŒªŒÆœÉŒ∑</div>\r\n                  </button>\r\n                  \r\n                  <button\r\n                    onClick={() => setCurrentView('activityWheel')}\r\n                    className=\"p-8 bg-gradient-to-r from-orange-400 to-orange-600 text-white rounded-3xl shadow-xl hover:shadow-2xl transition-all transform hover:scale-105 border-4 border-white\"\r\n                  >\r\n                    <Sparkles className=\"w-16 h-16 mx-auto mb-4\" />\r\n                    <div className=\"text-2xl font-bold\">ŒîœÅŒ±œÉœÑŒ∑œÅŒπœåœÑŒ∑œÑŒµœÇ</div>\r\n                  </button>\r\n                </>\r\n              )}\r\n            </div>\r\n\r\n            {!isConnected && (\r\n              <div className=\"mt-10 max-w-3xl mx-auto\">\r\n                <div className=\"bg-green-100 border-l-8 border-green-500 p-6 rounded-r-2xl shadow-lg\">\r\n                  <div className=\"flex items-center gap-4\">\r\n                    <QrCode className=\"w-12 h-12 text-green-500\" />\r\n                    <div>\r\n                      <h3 className=\"text-xl font-bold text-green-800\">Œ£œÖŒΩŒ¥ŒµŒ∏ŒµŒØœÑŒµ ŒºŒµ œÑŒøŒΩ {grandparentName}</h3>\r\n                      <button\r\n                        onClick={startBluetoothConnection}\r\n                        className=\"mt-2 bg-green-500 text-white px-6 py-2 rounded-lg font-bold hover:bg-green-600 transition-colors\"\r\n                        disabled={isConnecting}\r\n                      >\r\n                        {isConnecting ? 'Œ£œÖŒΩŒ¥Œ≠ŒµœÑŒ±Œπ...' : 'ŒûŒµŒ∫ŒØŒΩŒ± Œ£œçŒΩŒ¥ŒµœÉŒ∑ Bluetooth'}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </main>\r\n          \r\n          <nav className=\"fixed bottom-0 left-0 right-0 bg-white border-t-4 border-gray-200 px-6 py-4 shadow-xl\">\r\n            <div className=\"flex justify-around items-center max-w-md mx-auto\">\r\n              <button className=\"text-blue-500 p-4 rounded-2xl hover:bg-blue-50\">\r\n                <Home className=\"w-12 h-12\" />\r\n              </button>\r\n              <button\r\n                onClick={() => setCurrentView('settings')}\r\n                className=\"text-gray-600 p-4 rounded-2xl hover:bg-gray-50\"\r\n              >\r\n                <SettingsIcon className=\"w-12 h-12\" />\r\n              </button>\r\n            </div>\r\n          </nav>\r\n        </div>\r\n      );\r\n      \r\n    case 'settings':\r\n      return (\r\n        <Settings\r\n          language={language}\r\n          setLanguage={setLanguage}\r\n          textSize={textSize}\r\n          setTextSize={setTextSize}\r\n          setCurrentView={setCurrentView}\r\n          userRole={userRole}\r\n          t={t}\r\n          textSizeClasses={textSizeClasses}\r\n          buttonSizeClasses={buttonSizeClasses}\r\n        />\r\n      );\r\n      \r\n    case 'activityWheel':\r\n      return (\r\n        <ActivityWheel\r\n          userRole={userRole}\r\n          userInterests={userInterests}\r\n          grandparentInterests={grandparentInterests}\r\n          setCurrentView={setCurrentView}\r\n          t={t}\r\n          textSizeClasses={textSizeClasses}\r\n          buttonSizeClasses={buttonSizeClasses}\r\n          textSize={textSize}\r\n          language={language}\r\n        />\r\n      );\r\n      \r\n    case 'messages':\r\n      return (\r\n        <Messages\r\n          messages={messages}\r\n          messageInput={messageInput}\r\n          setMessageInput={setMessageInput}\r\n          setMessages={setMessages}\r\n          setCurrentView={setCurrentView}\r\n          userRole={userRole}\r\n          grandparentName={grandparentName}\r\n          grandparentDevice={grandparentDevice}\r\n          userName={userName}\r\n          grandparentPhone={grandparentPhone}\r\n          t={t}\r\n          textSizeClasses={textSizeClasses}\r\n          buttonSizeClasses={buttonSizeClasses}\r\n          textSize={textSize}\r\n          isConnected={isConnected}\r\n          sendBluetoothMessage={sendBluetoothMessage}\r\n        />\r\n      );\r\n      \r\n    case 'lessons':\r\n      return (\r\n        <Lessons\r\n          setCurrentView={setCurrentView}\r\n          completedLessons={completedLessons}\r\n          completeLesson={completeLesson}\r\n          gameScore={gameScore}\r\n          setGameScore={setGameScore}\r\n          t={t}\r\n          textSizeClasses={textSizeClasses}\r\n          buttonSizeClasses={buttonSizeClasses}\r\n          textSize={textSize}\r\n          language={language}\r\n        />\r\n      );\r\n      \r\n    case 'socialShare':\r\n      return (\r\n        <SocialShare\r\n          setCurrentView={setCurrentView}\r\n          grandparentName={grandparentName}\r\n          grandparentDevice={grandparentDevice}\r\n          userName={userName}\r\n          setMessages={setMessages}\r\n          messages={messages}\r\n          t={t}\r\n          textSizeClasses={textSizeClasses}\r\n          buttonSizeClasses={buttonSizeClasses}\r\n          textSize={textSize}\r\n          language={language}\r\n        />\r\n      );\r\n\r\n    case 'avatarSelection':\r\n      return (\r\n        <AvatarSelection\r\n          setCurrentView={setCurrentView}\r\n          userRole={userRole}\r\n          selectedAvatar={selectedAvatar}\r\n          setSelectedAvatar={setSelectedAvatar}\r\n          selectedAccessories={selectedAccessories}\r\n          setSelectedAccessories={setSelectedAccessories}\r\n          gameScore={gameScore}\r\n          setGameScore={setGameScore}\r\n          t={t}\r\n          textSizeClasses={textSizeClasses}\r\n          buttonSizeClasses={buttonSizeClasses}\r\n          textSize={textSize}\r\n        />\r\n      );\r\n\r\n    case 'rewardsCenter':\r\n      return (\r\n        <RewardsCenter\r\n          setCurrentView={setCurrentView}\r\n          userRole={userRole}\r\n          gameScore={gameScore}\r\n          setGameScore={setGameScore}\r\n          completedLessons={completedLessons}\r\n          unlockedFeatures={unlockedFeatures}\r\n          setUnlockedFeatures={setUnlockedFeatures}\r\n          claimedRewards={claimedRewards}\r\n          setClaimedRewards={setClaimedRewards}\r\n          userName={userName}\r\n          t={t}\r\n          textSizeClasses={textSizeClasses}\r\n          buttonSizeClasses={buttonSizeClasses}\r\n          textSize={textSize}\r\n        />\r\n      );\r\n      \r\n    default:\r\n      return <SplashScreen setCurrentView={setCurrentView} />;\r\n  }\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}